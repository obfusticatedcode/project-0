"use strict";$(function(){function e(e,i){this.element=e,this.position=i,console.log("This squares' position is: "+i),this.inRange=function(e){return s(this.position[0],this.position[1],e.position[0],e.position[1])===Math.sqrt(2)?"normal-move":s(this.position[0],this.position[1],e.position[0],e.position[1])===2*Math.sqrt(2)?"jump-move":void 0}}function s(e,s,i,o){return Math.sqrt(Math.pow(e-s,2)+Math.pow(i-o,2))}function i(e,s){this.element=e,console.log(this.element),this.position=s,console.log("The piece position is: "+s),this.player="",this.element<12?this.player1:this.player2}console.log("jQuery is working!");var o=$("#checkers-board"),n=$(".squares"),t=$(".pieces"),l=$("#player1"),p=$("#player2"),c=void 0,r=void 0;$("#checkers-board .pieces .player1 .selected");console.log(o+" ");var a=[[0,1,0,1,0,1,0,1],[1,0,1,0,1,0,1,0],[0,1,0,1,0,1,0,1],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[2,0,2,0,2,0,2,0],[0,2,0,2,0,2,0,2],[2,0,2,0,2,0,2,0]],h=[],v=[],d=1,u=2,g=0,f=0,m=["0vmin","10vmin","20vmin","30vmin","40vmin","50vmin","60vmin","70vmin"];!function(){for(var s=0;s<a.length;s++){a[s];for(var o=0;o<a[s].length;o++)a[s][o],s%2==1&&o%2==0?(n.append("<div class='square' id='square"+g+"' style='top:"+m[s]+"; left:"+m[o]+"'></div>"),v[g]=new e($("#squares"+g),[parseInt(s),parseInt(o)]),g++):s%2==0&&o%2==1&&(n.append("<div class='square' id='square"+g+"' style='top:"+m[s]+"; left:"+m[o]+"'></div>"),v[g]=new e($("#square"+g),[parseInt(s),parseInt(o)]),g++),a[s][o]===d?(l.append("<div class='player1-pieces' id='"+f+"' style='top:"+m[s]+"; left:"+m[o]+";'></div>"),h[f]=new i($("#"+f),[parseInt(s),parseInt(o)]),f++):a[s][o]===u&&(p.append("<div class='player2-pieces' id='"+f+"' style='top:"+m[s]+"; left:"+m[o]+";'></div>"),h[f]=new i($("#"+f),[parseInt(s),parseInt(o)]),f++)}}(),c=$(".player1-pieces"),r=$(".player2-pieces"),n.on("click",function(){console.log("click events works on the squares!")}),t.on("click",function(){console.log("click events works on the pieces!"),console.log(c)}),c.on("click",function(){console.log("clicking player1 pieces works!"),c.toggleClass("selected")}),r.on("click",function(){r.toggleClass("selected")})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyIkIiwic3F1YXJlIiwiZWxlbWVudCIsInBvc2l0aW9uIiwidGhpcyIsImNvbnNvbGUiLCJsb2ciLCJpblJhbmdlIiwicGllY2UiLCJkaXN0YW5jZSIsIk1hdGgiLCJzcXJ0IiwieDEiLCJ4MiIsInkxIiwieTIiLCJwb3ciLCIkc3F1YXJlc09uQm9hcmQiLCJwbGF5ZXIiLCJwbGF5ZXIxIiwicGxheWVyMiIsIiRjaGVja2Vyc0JvYXJkIiwiJHBpZWNlcyIsIiRwbGF5ZXIxIiwiJHBsYXllcjFQaWVjZXMiLCJ1bmRlZmluZWQiLCIkcGxheWVyMlBpZWNlcyIsImNoZWNrZXJzQm9hcmQiLCJwaWVjZXMiLCJzcXVhcmVzIiwiY291bnRTcXVhcmVzIiwiY291bnRQaWVjZXMiLCJ2aWV3cG9ydENvbnZlcnNpb24iLCJyb3ciLCJsZW5ndGgiLCJjb2x1bW4iLCJhcHBlbmQiLCJwYXJzZUludCIsIiRwbGF5ZXIyIiwidG9nZ2xlQ2xhc3MiLCJvbiJdLCJtYXBwaW5ncyI6IllBQ0FBLEdBQUUsV0EwSkksUUFBQUMsR0FBQUMsRUFBQUMsR0FJQUMsS0FBQUYsUUFBQUEsRUFFQ0UsS0FBQUQsU0FBQUEsRUFFSkUsUUFBQUMsSUFBQSw4QkFBQUgsR0FFREMsS0FBQUcsUUFBQSxTQUFBQyxHQUNBLE1BQUFDLEdBQUFMLEtBQUFELFNBQUEsR0FBQUMsS0FBQUQsU0FBQSxHQUFBSyxFQUFBTCxTQUFBLEdBQ0FLLEVBQUFMLFNBQUEsTUFBQU8sS0FBQUMsS0FBQSxHQUVTRCxjQUNSRCxFQUFBTCxLQUFBRCxTQUFBLEdBQUFDLEtBQUFELFNBQUEsR0FaZUssRUFBTUwsU0FBUyxHQUFJSyxFQUFNTCxTQUFTLE1BQVEsRUFBSU8sS0FBS0MsS0FBSyxHQWUvREgsZ0JBSFIsSUFXQ0gsUUFBQUEsR0FBQU8sRUFBQUMsRUFBQUMsRUFBQUMsR0FaQSxNQUFPTCxNQUFLQyxLQUFLRCxLQUFLTSxJQUFLSixFQUFHQyxFQUFJLEdBQUlILEtBQUtNLElBQUtG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QWVnQixHQUFHLFFBQVMsV0FDekJuQyxRQUFRQyxJQUFSLGtDQUNBa0IsRUFBZWUsWUFBWSxjQWE3QmIsRUFBZWMsR0FBRyxRQUFTLFdBQ3pCZCxFQUFlYSxZQUFZIiwiZmlsZSI6ImFwcC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIGxvYWQgalF1ZXJ5XG4kKCgpPT57XG4vLyBURVNUIGpRdWVyeSBpcyB3b3JraW5nXG4gIGNvbnNvbGUubG9nKGBqUXVlcnkgaXMgd29ya2luZyFgKTsvL3Bhc3NlZC4gb3V0cHV0IGlzIGpRdWVyeSBpcyB3b3JraW5nIVxuXG5cbi8vZ3JhYiBET00gZWxlbWVudHNcbiAgY29uc3QgJGNoZWNrZXJzQm9hcmQgPSAkKCcjY2hlY2tlcnMtYm9hcmQnKTtcbiAgY29uc3QgJHNxdWFyZXNPbkJvYXJkID0gJCgnLnNxdWFyZXMnKTtcbiAgY29uc3QgJHBpZWNlcyA9ICQoJy5waWVjZXMnKTtcbiAgLy9wbGF5ZXIxIHBpZWNlIGNsYXNzXG4gIGNvbnN0ICRwbGF5ZXIxID0kKCcjcGxheWVyMScpO1xuICAvL3BsYXllcjIgcGllY2UgY2xhc3NcbiAgY29uc3QgJHBsYXllcjIgPSQoJyNwbGF5ZXIyJyk7XG4gIGxldCAkcGxheWVyMVBpZWNlcyA9IHVuZGVmaW5lZDtcbiAgLy9wbGF5ZXIyIHBpZWNlc1xuICBsZXQgJHBsYXllcjJQaWVjZXMgPSB1bmRlZmluZWQ7XG4gIC8vdGhlIHNlbGVjdGVkIGNsYXNzXG4gIGNvbnN0ICRzZWxlY3RlZCA9JCgnI2NoZWNrZXJzLWJvYXJkIC5waWVjZXMgLnBsYXllcjEgLnNlbGVjdGVkJyk7XG5cblxuLy9URVNUIGRvbSBlbGVtZW50cyBhcmUgd29ya2luZ1xuICBjb25zb2xlLmxvZyhgJHskY2hlY2tlcnNCb2FyZH0gYCk7Ly9vdXRwdXQgaXMgb2JqZWN0IE9iamVjdFxuXG5cbi8vc2V0dXAgR0xPQkFMIFZBUklBQkxFU1xuLy9ib2FyZCBhcnJheSB3aXRoIHJvd3MgYW5kIGNvbHVtbnMgdG8gc2ltdWxhdGUgdGhlIHJlYWwgd29ybGQgOHg4IGJvYXJkXG4gIGNvbnN0IGNoZWNrZXJzQm9hcmQgPSBbXG4gICAgWyAgMCwgIDEsICAwLCAgMSwgIDAsICAxLCAgMCwgIDEgXSxcbiAgICBbICAxLCAgMCwgIDEsICAwLCAgMSwgIDAsICAxLCAgMCBdLFxuICAgIFsgIDAsICAxLCAgMCwgIDEsICAwLCAgMSwgIDAsICAxIF0sXG4gICAgWyAgMCwgIDAsICAwLCAgMCwgIDAsICAwLCAgMCwgIDAgXSxcbiAgICBbICAwLCAgMCwgIDAsICAwLCAgMCwgIDAsICAwLCAgMCBdLFxuICAgIFsgIDIsICAwLCAgMiwgIDAsICAyLCAgMCwgIDIsICAwIF0sXG4gICAgWyAgMCwgIDIsICAwLCAgMiwgIDAsICAyLCAgMCwgIDIgXSxcbiAgICBbICAyLCAgMCwgIDIsICAwLCAgMiwgIDAsICAyLCAgMCBdXG4gIF07XG5cbi8vaW5jcmVtZW50YWwgYXJyYXlzXG4gIGNvbnN0IHBpZWNlcyA9IFtdO1xuICBjb25zdCBzcXVhcmVzID0gW107XG4vL3BsYXllcnNcbiAgY29uc3QgcGxheWVyMSA9IDE7XG4gIGNvbnN0IHBsYXllcjIgPSAyO1xuLy9wbGF5ZXJzIHR1cm5cbiAgbGV0IHBsYXllclR1cm4gPSBudWxsO1xuLy9jb3VudGVyc1xuICBsZXQgY291bnRTcXVhcmVzID0gMDtcbiAgbGV0IGNvdW50UGllY2VzID0gMDtcbi8vYXJyYXkgd2l0aCB2aWV3IHBvcnQgY29udmVyc2lvbiB3aXRoIHRvcCBhbmQgbGVmdFxuLy9WaWV3cG9ydCBNaW5pbXVtICh2bWluKSDigJQgVGhpcyB1bml0IGlzIGJhc2VkIG9uXG4vL3RoZSBzbWFsbGVyIGRpbWVuc2lvbiBvZiB0aGUgdmlld3BvcnQuXG4vL0lmIHRoZSB2aWV3cG9ydCBoZWlnaHQgaXMgc21hbGxlciB0aGFuIHRoZSB3aWR0aCxcbi8vdGhlIHZhbHVlIG9mIDF2bWluIHdpbGwgYmUgZXF1YWwgdG8gMSUgb2YgdGhlIHZpZXdwb3J0IGhlaWdodC5cbi8vU2ltaWxhcmx5LCBpZiB0aGUgdmlld3BvcnQgd2lkdGggaXMgc21hbGxlciB0aGFuIHRoZSBoZWlnaHQsIHRoZSB2YWx1ZSBvZiAxdm1pbiB3aWxsIGJlIGVxdWFsIHRvIDElIG9mIHRoZSB2aWV3cG9ydCB3aWR0aC5cbiAgY29uc3Qgdmlld3BvcnRDb252ZXJzaW9uID0gWycwdm1pbicsJzEwdm1pbicsJzIwdm1pbicsJzMwdm1pbicsJzQwdm1pbicsJzUwdm1pbicsJzYwdm1pbicsJzcwdm1pbiddO1xuXG4gIC8vY2FsbCB0aGUgU0VUVVAgZnVuY3Rpb24vbWV0aG9kIHRvIGNyZWF0ZSB0aGUgYm9hcmQgYW5kIGFkZCBwaWVjZXNcbiAgc2V0dXAoKTtcblxuICBmdW5jdGlvbiBzZXR1cCgpe1xuICAgIC8vcGxheWVyIDEgYWx3YXlzIHN0YXJ0c1xuICAgIHBsYXllclR1cm4gPT09IHBsYXllcjE7XG4gICAgLy9sb29wIHRocm91Z2ggdGhlIGFycmF5IGNhbGxlZCBjaGVja2Vyc0JvYXJkIGluZGV4ZWQgYXQgMFxuICAgIGZvciAobGV0IHJvdyA9IDA7IHJvdyA8IGNoZWNrZXJzQm9hcmQubGVuZ3RoOyByb3crKykge1xuICAgICAgY2hlY2tlcnNCb2FyZFtyb3ddO1xuICAgICAgICAvL1RFU1QgdGhlIHJvd3MgaW5kZXggaXMgd29ya2luZ1xuICAgICAgICAvLyBjb25zb2xlLmxvZyhyb3cpOy8vcGFzc2VkLiBvdXRwdXQgaXMgMCwxLDIsMyw0LDYsN1xuICAgICAgICAvL2xvb3AgdGhyb3VnaCB0aGUgYXJyYXkgZWxlbWVudHMgb3IgY29sdW1uc1xuXG4gICAgICBmb3IgKGxldCBjb2x1bW4gPSAwOyBjb2x1bW4gPCBjaGVja2Vyc0JvYXJkW3Jvd10ubGVuZ3RoOyBjb2x1bW4rKykge1xuICAgICAgICBjaGVja2Vyc0JvYXJkW3Jvd11bY29sdW1uXTtcbiAgICAgICAgLy9URVNUIHRoZSBjb2x1bW4gaW5kZXggaXMgYmVpbmcgbG9vcGVkIHRocm91Z2hcbiAgICAgICAgICAvLyBjb25zb2xlLmxvZyhjb2x1bW4pOy8vcGFzc2VkLiBvdXRwdXQgaXMgMCwxLDIsMyw0LDYsNyBmb3JlYWNoIGNvbHVtblxuXG4gICAgICAgIC8vaWYgdGhlIHJvdyBpcyBvZGQgYW5kIHRoZSBjb2x1bW4gZXZlbiBhZGQgYSBzcXVhcmVcbiAgICAgICAgaWYocm93ICUgMiA9PT0gMSAmJiBjb2x1bW4gJSAyID09PSAwICl7XG4gICAgICAgICAgICAvL1RFU1QgdGhlIHJvdyBpcyBjb3JyZWN0LW9kZFxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2cocm93KTsvL3Bhc3MuIG91dHB1dCBpcyAxLDMsNSw3XG4gICAgICAgICAgICAgIC8vVEVTVCB0aGUgY29sdW1uIGlzIGNvcnJlY3QtZXZlblxuICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhjb2x1bW4pOy8vcGFzc2VkLiBvdXRwdXQgaXMgMCwyLDQsNlxuICAgICAgICAgICAgICAvL2FwcGVuZCBhIGRpdiByZXByZXNlbnRpbmcgYSBzcXVhcmUgdG8gdGhlICRzcXVhcmVzT25Cb2FyZCBkaXYgd2l0aCBjbGFzc1xuICAgICAgICAgICRzcXVhcmVzT25Cb2FyZC5hcHBlbmQoYDxkaXYgY2xhc3M9J3NxdWFyZScgaWQ9J3NxdWFyZSR7Y291bnRTcXVhcmVzfScgc3R5bGU9J3RvcDoke3ZpZXdwb3J0Q29udmVyc2lvbltyb3ddfTsgbGVmdDoke3ZpZXdwb3J0Q29udmVyc2lvbltjb2x1bW5dfSc+PC9kaXY+YCk7XG4gICAgICAgICAgICAgIC8vY3JlYXRlIGEgbmV3IHNxdWFyZU9iamVjdCBhbmQgYWRkIHRoZSBudW1iZXIgb2Ygc3F1YXJlcyBjb3VudCB0byB0aGUgc3F1YXJlcyBjb3VudGVyc1xuICAgICAgICAgICAgICAvL3VzZSB0aGUgZWxlbWVudCBpZCBhbmQgcG9zaXRpb24gYXMgYXJndW1lbnRzIHRvIGNyZWF0ZSB0aGUgc3F1YXJlc1xuICAgICAgICAgIHNxdWFyZXNbY291bnRTcXVhcmVzXSA9IG5ldyBzcXVhcmUoJCgnI3NxdWFyZXMnK2NvdW50U3F1YXJlcyksIFtwYXJzZUludChyb3cpLCBwYXJzZUludChjb2x1bW4pXSk7XG4gICAgICAgICAgY291bnRTcXVhcmVzKys7XG4gICAgICAgICAgICAgIC8vIC8vVEVTVCB0aGUgY291bnRTcXVhcmVzIHdvcmtzXG4gICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGNvdW50U3F1YXJlcyk7Ly9wYXNzZWQuIG91dHB1dCBpcyAxIHRvIDE2IGluZGV4IGJhc2VkIGlzIDAgdG8gMTVcbiAgICAgICAgfWVsc2UgaWYocm93ICUgMiA9PT0gMCAmJiBjb2x1bW4gJSAyID09PSAxKSB7Ly9vdGhlcndpc2UgaWYgcm93IGlzIGV2ZW4uXG4gICAgICAgICAgICAvL1RFU1QgdGhlIGNvbHVtbiBpcyBjb3JyZWN0LW9kZFxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coY29sdW1uKTsvL3Bhc3NlZC4gb3V0cHV0IGlzIDEsMyw1LDdcbiAgICAgICAgICAkc3F1YXJlc09uQm9hcmQuYXBwZW5kKGA8ZGl2IGNsYXNzPSdzcXVhcmUnIGlkPSdzcXVhcmUke2NvdW50U3F1YXJlc30nIHN0eWxlPSd0b3A6JHt2aWV3cG9ydENvbnZlcnNpb25bcm93XX07IGxlZnQ6JHt2aWV3cG9ydENvbnZlcnNpb25bY29sdW1uXX0nPjwvZGl2PmApO1xuICAgICAgICAgIHNxdWFyZXNbY291bnRTcXVhcmVzXSA9IG5ldyBzcXVhcmUoJCgnI3NxdWFyZScrY291bnRTcXVhcmVzKSwgW3BhcnNlSW50KHJvdyksIHBhcnNlSW50KGNvbHVtbildKTtcbiAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coYGlkPSdzcXVhcmUke2NvdW50U3F1YXJlc31gKTtcbiAgICAgICAgICBjb3VudFNxdWFyZXMrKztcblxuICAgICAgICB9Ly9lbmQgb2YgZWxzZSBzdGF0ZW1lbnRcblxuICAgICAgICAgICAgLy9hZGQgdGhlIHBpZWNlcyB0byB0aGUgY2hlY2tlcnNCb2FyZFxuICAgICAgICBpZihjaGVja2Vyc0JvYXJkW3Jvd11bY29sdW1uXSA9PT0gcGxheWVyMSkge1xuICAgICAgICAgICRwbGF5ZXIxLmFwcGVuZChgPGRpdiBjbGFzcz0ncGxheWVyMS1waWVjZXMnIGlkPScke2NvdW50UGllY2VzfScgc3R5bGU9J3RvcDoke3ZpZXdwb3J0Q29udmVyc2lvbltyb3ddfTsgbGVmdDoke3ZpZXdwb3J0Q29udmVyc2lvbltjb2x1bW5dfTsnPjwvZGl2PmApO1xuICAgICAgICAgIHBpZWNlc1tjb3VudFBpZWNlc10gPSBuZXcgcGllY2UoJCgnIycrY291bnRQaWVjZXMpLCBbcGFyc2VJbnQocm93KSwgcGFyc2VJbnQoY29sdW1uKV0pO1xuICAgICAgICAgIGNvdW50UGllY2VzKys7XG4gICAgICAgICAgICAvL1RFU1QgdmFsdWUgb2YgY2hlY2tlcnNCb2FyZFtyb3ddW2NvbHVtbl1cbiAgICAgICAgICAvLyBjb25zb2xlLmxvZyhgY2hlY2tlcnNCb2FyZCByb3cgaXM6ICR7Y2hlY2tlcnNCb2FyZFtyb3ddfSBgKTtcbiAgICAgICAgICAvLyBjb25zb2xlLmxvZyhgY2hlY2tlcnNCb2FyZCBjb2x1bW4gaXM6ICR7Y2hlY2tlcnNCb2FyZFtjb2x1bW5dfSBgKTtcbiAgICAgICAgICAvLyBjb25zb2xlLmxvZyhgY2hlY2tlcnNCb2FyZCByb3cgYW5kIGNvbHVtbiBpczogJHtjaGVja2Vyc0JvYXJkW3Jvd11bY29sdW1uXX1gKTsvL3Bhc3NlZC5vdXRwdXQgaXMgMVxuICAgICAgICB9ZWxzZSBpZihjaGVja2Vyc0JvYXJkW3Jvd11bY29sdW1uXSA9PT0gcGxheWVyMikge1xuICAgICAgICAgICRwbGF5ZXIyLmFwcGVuZChgPGRpdiBjbGFzcz0ncGxheWVyMi1waWVjZXMnIGlkPScke2NvdW50UGllY2VzfScgc3R5bGU9J3RvcDoke3ZpZXdwb3J0Q29udmVyc2lvbltyb3ddfTsgbGVmdDoke3ZpZXdwb3J0Q29udmVyc2lvbltjb2x1bW5dfTsnPjwvZGl2PmApO1xuICAgICAgICAgIHBpZWNlc1tjb3VudFBpZWNlc10gPSBuZXcgcGllY2UoJCgnIycrY291bnRQaWVjZXMpLCBbcGFyc2VJbnQocm93KSwgcGFyc2VJbnQoY29sdW1uKV0pO1xuICAgICAgICAgIGNvdW50UGllY2VzKys7XG4gICAgICAgICAgICAvL1RFU1QgdmFsdWUgb2YgY2hlY2tlcnNCb2FyZFtyb3ddW2NvbHVtbl1cbiAgICAgICAgICAvLyBjb25zb2xlLmxvZyhgY2hlY2tlcnNCb2FyZCByb3cgaXM6ICR7Y2hlY2tlcnNCb2FyZFtyb3ddfSBgKTtcbiAgICAgICAgICAvLyBjb25zb2xlLmxvZyhgY2hlY2tlcnNCb2FyZCBjb2x1bW4gaXM6ICR7Y2hlY2tlcnNCb2FyZFtjb2x1bW5dfSBgKTtcbiAgICAgICAgICAvLyBjb25zb2xlLmxvZyhgY2hlY2tlcnNCb2FyZCAyIHJvdyBhbmQgY29sdW1uIGlzOiAke2NoZWNrZXJzQm9hcmRbcm93XVtjb2x1bW5dfWApOy8vcGFzc2VkLiBvdXRwdXQgaXMgMlxuICAgICAgICB9XG5cbiAgICAgIH0vL2VuZCBvZiBpbm5lciBmb3IgbG9vcFxuICAgIH0vL2VuZCBvZiBvdXR0ZXIgZm9yIGxvb3BcbiAgfS8vZW5kIG9mIHNldHVwIGZ1bmN0aW9uXG5cbiAgLy9wbGF5ZXIxIHBpZWNlcyBncmFiYmluZyB0aGVzZSBoZXJlIGFmdGVyIHRoZXkndmUgYmVlbiBnZW5lcmF0ZWQgZGVjbGFyZSBhdCB0aGUgdG9wLlxuICAkcGxheWVyMVBpZWNlcyA9JCgnLnBsYXllcjEtcGllY2VzJyk7XG4gIC8vcGxheWVyMiBwaWVjZXNcbiAgJHBsYXllcjJQaWVjZXMgPSQoJy5wbGF5ZXIyLXBpZWNlcycpO1xuXG4gIC8vU1FVQVJFIGlzIGVtcHR5XG4gIGZ1bmN0aW9uIHNxdWFyZUlzRW1wdHkocm93LCBjb2x1bW4pe1xuICAgIC8vVEVTVCByb3cgYW5kIGNvbHVtblxuICAgIHRoaXMucm93ID0gcm93O1xuICAgIHRoaXMuY29sdW1uID0gY29sdW1uO1xuICAgIGNvbnNvbGUubG9nKGB2YWx1ZSBvZiByb3c6JHtyb3d9IGFuZCB2YWx1ZSBvZiBjb2x1bW46ICR7Y29sdW1ufWApO1xuICAgIC8vdXNpbmcgYSB0ZW5hcnkgb3BlcmF0b3IgKGFuIG9wZXJhdG9yIGFjY2VwdGluZyAzIG9wZXJhbmRzKWFzIHNob3J0aGFuZFxuICAgIC8vdG8gaWYgZWxzZSBjaGVjayBpZiB0aGVyZSdzIGFuIG9iamVjdFxuICAgIC8vb24gdGhlIHJvdyBhbmQgY29sdW1uIChzcXVhcmUpXG4gICAgY2hlY2tlcnNCb2FyZFtyb3ddW2NvbHVtbl0gPT09IDAgPyB0cnVlIDogZmFsc2U7XG4gIH1cblxuXG5cbi8vU1FVQVJFXG4gLy9jcmVhdGUgYSBzcXVhcmUgb2JqZWN0IHRvIGF0dGFjaCB0byB0aGUgY2hlY2tlcnNCb2FyZFxuICBmdW5jdGlvbiBzcXVhcmUgKGVsZW1lbnQsIHBvc2l0aW9uKSB7XG4gICAgLy91c2luZyB0aGlzIHRvIGdpdmUgbG9jYWwgdmFyaWFibGVzIGEgY29udGV4dFxuICAgIC8vZWxlbWVudCBpcyB0aGUgdGhlIGRpdiBsaW5rZWQgdG8gdGhlIERPTVxuICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgLy8gdGhlIHBvc2l0aW9ucyBhcmUgcmVwcmVzZW50ZWQgYnkgdGhlIG11bHRpZGltZW5zaW9uYWwgYXJyYXkgYXMgcm93IGFuZCBjb2x1bW4gZm9ybWF0XG4gICAgdGhpcy5wb3NpdGlvbiA9IHBvc2l0aW9uO1xuICAgIC8vVEVTVCB0aGUgc3F1YXJlIHBvc2l0aW9uXG4gICAgY29uc29sZS5sb2coYFRoaXMgc3F1YXJlcycgcG9zaXRpb24gaXM6ICR7cG9zaXRpb259YCk7XG4gICAgLy9pZiBzcXVhcmUgaXMgaW4gcmFuZ2UgZnJvbSB0aGUgcGllY2VcbiAgICB0aGlzLmluUmFuZ2UgPSBmdW5jdGlvbihwaWVjZSkge1xuICAgICAgaWYoZGlzdGFuY2UodGhpcy5wb3NpdGlvblswXSwgdGhpcy5wb3NpdGlvblsxXSwgcGllY2UucG9zaXRpb25bMF0sXG4gICAgICAgICAgICAgICAgICBwaWVjZS5wb3NpdGlvblsxXSkgPT09IE1hdGguc3FydCgyKSkge1xuICAgICAgLy9ub3JtYWwtbW92ZVxuICAgICAgICByZXR1cm4gJ25vcm1hbC1tb3ZlJztcbiAgICAgIH0gZWxzZSBpZihkaXN0YW5jZSh0aGlzLnBvc2l0aW9uWzBdLCB0aGlzLnBvc2l0aW9uWzFdLFxuICAgICAgICAgICAgICAgICAgcGllY2UucG9zaXRpb25bMF0sIHBpZWNlLnBvc2l0aW9uWzFdKSA9PT0gMiAqIE1hdGguc3FydCgyKSkge1xuICAgICAgLy9qdW1wLW1vdmVcbiAgICAgICAgcmV0dXJuICdqdW1wLW1vdmUnO1xuICAgICAgfVxuICAgIH07XG4gIH1cblxuICAvL0RJU1RBTkNFXG4gIC8vIFdlIHVzZSB0aGUgUHl0aGFnb3JhcyBUaGVvcmVtIHRvIGRlcml2ZSBhIGZvcm11bGEgZm9yXG4gIC8vIGZpbmRpbmcgdGhlIGRpc3RhbmNlIGJldHdlZW4gdHdvIHBvaW50cyBpbiAyLSBhbmQgMy0gZGltZW5zaW9uYWwgc3BhY2UuXG4gIGZ1bmN0aW9uIGRpc3RhbmNlKHgxLHgyLHkxLHkyKXtcbiAgICByZXR1cm4gTWF0aC5zcXJ0KE1hdGgucG93KCh4MS14MiksMikrIE1hdGgucG93KCh5MS15MiksMikpO1xuICB9XG5cbiAgLy9QSUVDRVNcbiAgZnVuY3Rpb24gcGllY2UgKGVsZW1lbnQsIHBvc2l0aW9uKSB7XG4gICAgLy91c2luZyB0aGlzIHRvIGdpdmUgbG9jYWwgdmFycyBhIGNvbnRleHRcbiAgICAvL2VsZW1lbnQgaXMgdGhlIHRoZSBkaXYgbGlua2VkIHRvIHRoZSBET01cbiAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xuICAgIGNvbnNvbGUubG9nKHRoaXMuZWxlbWVudCk7XG4gICAgLy9wb3NpdGlvbnMgb24gZ2FtZUJvYXJkIGFycmF5IGluIGZvcm1hdCByb3csIGNvbHVtblxuICAgIHRoaXMucG9zaXRpb24gPSBwb3NpdGlvbjtcbiAgICAvL1RFU1QgdGhlIHBvc2l0aW9uXG4gICAgY29uc29sZS5sb2coYFRoZSBwaWVjZSBwb3NpdGlvbiBpczogJHtwb3NpdGlvbn1gKTtcblxuICAgIC8vd2hvJ3MgcGllY2UgaXMgaXQsIHBsYXllciBwbGFjZSBob2xkZXJcbiAgICB0aGlzLnBsYXllciA9ICcnO1xuICAgIC8vZmlndXJlIG91dCBwbGF5ZXIgYnkgcGllY2UgaWRcbiAgICBpZih0aGlzLmVsZW1lbnQgPCAxMilcbiAgICAgIHRoaXMucGxheWVyMTtcbiAgICBlbHNlXG4gICAgICB0aGlzLnBsYXllcjI7XG4gIH1cblxuICAvLyBDTElDSyBFVkVOVFNcbiAgJHNxdWFyZXNPbkJvYXJkLm9uKCdjbGljaycsKCk9PntcbiAgICAvL1RFU1QgdGhlIGNsaWNrIGV2ZW50IHdvcmtzLlxuICAgIGNvbnNvbGUubG9nKGBjbGljayBldmVudHMgd29ya3Mgb24gdGhlIHNxdWFyZXMhYCk7XG4gIH0pO1xuXG4gIC8vU0VMRUNUSU5HIFBJRUNFU1xuICAkcGllY2VzLm9uKCdjbGljaycsKCk9PntcbiAgICAvL1RFU1QgdGhlIGNsaWNrIGV2ZW50IHdvcmtzLlxuICAgIGNvbnNvbGUubG9nKGBjbGljayBldmVudHMgd29ya3Mgb24gdGhlIHBpZWNlcyFgKTtcbiAgICAvLyAkcGxheWVyMlBpZWNlcy50b2dnbGVDbGFzcygnc2VsZWN0ZWQnKTtcbiAgICAvL1RFU1QgdG8gc2VlIHRoZSBpZCBvbiB0aGUgcGllY2VzLCB3aWxsIHVzZSB0aGlzIHRvIHNlbGVjdCBlYWNoIG9uZS5cbiAgICBjb25zb2xlLmxvZygkcGxheWVyMVBpZWNlcyk7XG5cbiAgfSk7XG5cblxuXG4gICRwbGF5ZXIxUGllY2VzLm9uKCdjbGljaycsICgpPT57XG4gICAgY29uc29sZS5sb2coYGNsaWNraW5nIHBsYXllcjEgcGllY2VzIHdvcmtzIWApO1xuICAgICRwbGF5ZXIxUGllY2VzLnRvZ2dsZUNsYXNzKCdzZWxlY3RlZCcpO1xuXG4gICAgLy8gbGV0IHNlbGVjdGVkID0gZmFsc2U7XG4gICAgLy8gaWYoJCh0aGlzKS5oYXNDbGFzcygnc2VsZWN0ZWQnKSl7XG4gICAgLy8gICBzZWxlY3RlZCA9IHRydWU7XG4gICAgLy8gICAkcGxheWVyMVBpZWNlcy5lYWNoKGZ1bmN0aW9uKGluZGV4KSB7XG4gICAgLy8gICAgICRwbGF5ZXIxUGllY2VzLmVxKGluZGV4KS5yZW1vdmVDbGFzcygnc2VsZWN0ZWQnKTtcbiAgICAvLyAgIH0pO1xuICAgIC8vIH0gZWxzZSBpZighc2VsZWN0ZWQpIHtcbiAgICAvLyAgICQodGhpcykuYWRkQ2xhc3MoJ3NlbGVjdGVkJyk7XG4gICAgLy8gfVxuICB9KTtcblxuICAkcGxheWVyMlBpZWNlcy5vbignY2xpY2snLCAoKT0+e1xuICAgICRwbGF5ZXIyUGllY2VzLnRvZ2dsZUNsYXNzKCdzZWxlY3RlZCcpO1xuICB9KTtcblxufSk7Ly9lbmQgb2YgalF1ZXJ5IGxvYWRcbiJdfQ==
