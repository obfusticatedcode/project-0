"use strict";$(function(){function e(e,i){this.element=e,this.position=i,console.log("This squares' position is: "+i),this.inRange=function(e){return s(this.position[0],this.position[1],e.position[0],e.position[1])===Math.sqrt(2)?"normal-move":s(this.position[0],this.position[1],e.position[0],e.position[1])===2*Math.sqrt(2)?"jump-move":void 0}}function s(e,s,i,t){return Math.sqrt(Math.pow(e-s,2)+Math.pow(i-t,2))}function i(e,s){this.element=e,console.log(this.element),this.position=s,console.log("The piece position is: "+s),this.player="",this.element<12?this.player1:this.player2}console.log("jQuery is working!");var t=$("#checkers-board"),n=$(".squares"),o=$(".pieces"),a=$("#player1"),l=$("#player2");console.log(t+" ");var p=[[0,1,0,1,0,1,0,1],[1,0,1,0,1,0,1,0],[0,1,0,1,0,1,0,1],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[2,0,2,0,2,0,2,0],[0,2,0,2,0,2,0,2],[2,0,2,0,2,0,2,0]],r=[],c=[],v=1,h=2,d=0,u=0,m=["0vmin","10vmin","20vmin","30vmin","40vmin","50vmin","60vmin","70vmin"];!function(){for(var s=0;s<p.length;s++){p[s];for(var t=0;t<p[s].length;t++)p[s][t],s%2==1&&t%2==0?(n.append("<div class='square' id='square"+d+"' style='top:"+m[s]+"; left:"+m[t]+"'></div>"),c[d]=new e($("#squares"+d),[parseInt(s),parseInt(t)]),d++):s%2==0&&t%2==1&&(n.append("<div class='square' id='square"+d+"' style='top:"+m[s]+"; left:"+m[t]+"'></div>"),c[d]=new e($("#square"+d),[parseInt(s),parseInt(t)]),d++),p[s][t]===v?(a.append("<div class='player1-pieces' id='"+u+"' style='top:"+m[s]+"; left:"+m[t]+";'></div>"),r[u]=new i($("#"+u),[parseInt(s),parseInt(t)]),u++):p[s][t]===h&&(l.append("<div class='player2-pieces' id='"+u+"' style='top:"+m[s]+"; left:"+m[t]+";'></div>"),r[u]=new i($("#"+u),[parseInt(s),parseInt(t)]),u++)}}(),n.on("click",function(){console.log("click events works on the squares!")}),o.on("click",function(){console.log("click events works on the pieces!");var e=null;$(void 0).parent().attr("class").split(" ")[0]==="player"+p.playerTurn+"pieces"&&($(void 0).hasClass("selected")&&(e=!0),$(".piece").each(function(e){$(".piece").eq(e).removeClass("selected")}),e||$(void 0).addClass("selected"))})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyIkIiwiZGlzdGFuY2UiLCJlbGVtZW50IiwicG9zaXRpb24iLCJ0aGlzIiwiY29uc29sZSIsImxvZyIsImluUmFuZ2UiLCJwaWVjZSIsIk1hdGgiLCJzcXJ0IiwieDEiLCJ5MSIsIngyIiwieTIiLCJwb3ciLCIkcGllY2VzIiwicGxheWVyMSIsIml0c1BsYXllcnNUdXJuIiwiJGNoZWNrZXJzQm9hcmQiLCIkc3F1YXJlc09uQm9hcmQiLCJjaGVja2Vyc0JvYXJkIiwicGllY2VzIiwic3F1YXJlcyIsImNvdW50U3F1YXJlcyIsInBsYXllcjIiLCJ2aWV3cG9ydENvbnZlcnNpb24iLCJwbGF5ZXJUdXJuIiwicm93IiwiY29sdW1uIiwibGVuZ3RoIiwiYXBwZW5kIiwic3F1YXJlIiwicGFyc2VJbnQiLCIkcGxheWVyMVBpZWNlcyIsImNvdW50UGllY2VzIiwiJHBsYXllcjJQaWVjZXMiLCJvbiIsImVxIiwic2VsZWN0ZWQiLCJwYXJlbnQiLCJhdHRyIiwic3BsaXQiLCJoYXNDbGFzcyIsImVhY2giLCJpbmRleCIsInJlbW92ZUNsYXNzIiwiYWRkQ2xhc3MiXSwibWFwcGluZ3MiOiJZQUNBQSxHQUFFLFdBMklJLFFBQUdDLEdBQVNDLEVBQUtDLEdBSWhCQyxLQUpERixRQUlVRCxFQUdSRyxLQUFBRCxTQUFPQSxFQUVWRSxRQVZEQyxJQVVDLDhCQVZESCxHQUFBQyxLQUFLRyxRQUFVLFNBQVNDLEdBYTFCLE1BQUFQLEdBQUFHLEtBQUFELFNBQUEsR0FBQUMsS0FBQUQsU0FBQSxHQUFBSyxFQUFBTCxTQUFBLEdBQ0FLLEVBQUFMLFNBQUEsTUFBQU0sS0FBQUMsS0FBQSxHQUVTVCxjQUNLUyxFQUFLRCxLQUFVRSxTQUFPLEdBQWpCUCxLQUFxQkssU0FBVUcsR0FDakRKLEVBQUFMLFNBQUEsR0FBQUssRUFBQUwsU0FBQSxNQUFBLEVBQUFNLEtBQUFDLEtBQUEsR0FFRCxnQkFIU0QsSUFXUCxRQUFBUixHQUFBVSxFQUFBRSxFQUFBRCxF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LFNBQzlDQyxNQUFNLEtBQUssS0FBTyxTQUFTckIsRUFBY00sV0FBVyxXQUUvQzNCLE1BQUFBLElBQVEyQyxTQUFTLGNBQWFKLEdBQVcsR0FDNUN2QyxFQUFFLFVBQVU0QyxLQUFLLFNBQVNDLEdBQ3hCN0MsRUFBRSxVQUFVc0MsR0FBR08sR0FBT0MsWUFBWSxjQUVoQ1AsR0FDRnZDLE1BQUFBLElBQVErQyxTQUFTIiwiZmlsZSI6ImFwcC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIGxvYWQgalF1ZXJ5XG4kKCgpPT57XG4vLyBURVNUIGpRdWVyeSBpcyB3b3JraW5nXG4gIGNvbnNvbGUubG9nKGBqUXVlcnkgaXMgd29ya2luZyFgKTsvL3Bhc3NlZC4gb3V0cHV0IGlzIGpRdWVyeSBpcyB3b3JraW5nIVxuXG5cbi8vZ3JhYiBET00gZWxlbWVudHNcbiAgY29uc3QgJGNoZWNrZXJzQm9hcmQgPSAkKCcjY2hlY2tlcnMtYm9hcmQnKTtcbiAgY29uc3QgJHNxdWFyZXNPbkJvYXJkID0gJCgnLnNxdWFyZXMnKTtcbiAgY29uc3QgJHBpZWNlcyA9ICQoJy5waWVjZXMnKTtcbiAgY29uc3QgJHBsYXllcjFQaWVjZXMgPSQoJyNwbGF5ZXIxJyk7XG4gIGNvbnN0ICRwbGF5ZXIyUGllY2VzID0kKCcjcGxheWVyMicpO1xuXG4vL1RFU1QgZG9tIGVsZW1lbnRzIGFyZSB3b3JraW5nXG4gIGNvbnNvbGUubG9nKGAkeyRjaGVja2Vyc0JvYXJkfSBgKTsvL291dHB1dCBpcyBvYmplY3QgT2JqZWN0XG5cblxuLy9zZXR1cCBHTE9CQUwgVkFSSUFCTEVTXG4vL2JvYXJkIGFycmF5IHdpdGggcm93cyBhbmQgY29sdW1ucyB0byBzaW11bGF0ZSB0aGUgcmVhbCB3b3JsZCA4eDggYm9hcmRcbiAgY29uc3QgY2hlY2tlcnNCb2FyZCA9IFtcbiAgICBbICAwLCAgMSwgIDAsICAxLCAgMCwgIDEsICAwLCAgMSBdLFxuICAgIFsgIDEsICAwLCAgMSwgIDAsICAxLCAgMCwgIDEsICAwIF0sXG4gICAgWyAgMCwgIDEsICAwLCAgMSwgIDAsICAxLCAgMCwgIDEgXSxcbiAgICBbICAwLCAgMCwgIDAsICAwLCAgMCwgIDAsICAwLCAgMCBdLFxuICAgIFsgIDAsICAwLCAgMCwgIDAsICAwLCAgMCwgIDAsICAwIF0sXG4gICAgWyAgMiwgIDAsICAyLCAgMCwgIDIsICAwLCAgMiwgIDAgXSxcbiAgICBbICAwLCAgMiwgIDAsICAyLCAgMCwgIDIsICAwLCAgMiBdLFxuICAgIFsgIDIsICAwLCAgMiwgIDAsICAyLCAgMCwgIDIsICAwIF1cbiAgXTtcblxuLy9pbmNyZW1lbnRhbCBhcnJheXNcbiAgY29uc3QgcGllY2VzID0gW107XG4gIGNvbnN0IHNxdWFyZXMgPSBbXTtcbi8vcGxheWVyc1xuICBjb25zdCBwbGF5ZXIxID0gMTtcbiAgY29uc3QgcGxheWVyMiA9IDI7XG4vL3BsYXllcnMgdHVyblxuICBsZXQgcGxheWVyVHVybiA9IG51bGw7XG4vL2NvdW50ZXJzXG4gIGxldCBjb3VudFNxdWFyZXMgPSAwO1xuICBsZXQgY291bnRQaWVjZXMgPSAwO1xuLy9hcnJheSB3aXRoIHZpZXcgcG9ydCBjb252ZXJzaW9uIHdpdGggdG9wIGFuZCBsZWZ0XG4vL1ZpZXdwb3J0IE1pbmltdW0gKHZtaW4pIOKAlCBUaGlzIHVuaXQgaXMgYmFzZWQgb25cbi8vdGhlIHNtYWxsZXIgZGltZW5zaW9uIG9mIHRoZSB2aWV3cG9ydC5cbi8vSWYgdGhlIHZpZXdwb3J0IGhlaWdodCBpcyBzbWFsbGVyIHRoYW4gdGhlIHdpZHRoLFxuLy90aGUgdmFsdWUgb2YgMXZtaW4gd2lsbCBiZSBlcXVhbCB0byAxJSBvZiB0aGUgdmlld3BvcnQgaGVpZ2h0LlxuLy9TaW1pbGFybHksIGlmIHRoZSB2aWV3cG9ydCB3aWR0aCBpcyBzbWFsbGVyIHRoYW4gdGhlIGhlaWdodCwgdGhlIHZhbHVlIG9mIDF2bWluIHdpbGwgYmUgZXF1YWwgdG8gMSUgb2YgdGhlIHZpZXdwb3J0IHdpZHRoLlxuICBjb25zdCB2aWV3cG9ydENvbnZlcnNpb24gPSBbJzB2bWluJywnMTB2bWluJywnMjB2bWluJywnMzB2bWluJywnNDB2bWluJywnNTB2bWluJywnNjB2bWluJywnNzB2bWluJ107XG5cbiAgLy9jYWxsIHRoZSBTRVRVUCBmdW5jdGlvbi9tZXRob2QgdG8gY3JlYXRlIHRoZSBib2FyZCBhbmQgYWRkIHBpZWNlc1xuICBzZXR1cCgpO1xuXG4gIGZ1bmN0aW9uIHNldHVwKCl7XG4gICAgLy9wbGF5ZXIgMSBhbHdheXMgc3RhcnRzXG4gICAgcGxheWVyVHVybiA9PT0gcGxheWVyMTtcbiAgICAvL2xvb3AgdGhyb3VnaCB0aGUgYXJyYXkgY2FsbGVkIGNoZWNrZXJzQm9hcmQgaW5kZXhlZCBhdCAwXG4gICAgZm9yIChsZXQgcm93ID0gMDsgcm93IDwgY2hlY2tlcnNCb2FyZC5sZW5ndGg7IHJvdysrKSB7XG4gICAgICBjaGVja2Vyc0JvYXJkW3Jvd107XG4gICAgICAgIC8vVEVTVCB0aGUgcm93cyBpbmRleCBpcyB3b3JraW5nXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKHJvdyk7Ly9wYXNzZWQuIG91dHB1dCBpcyAwLDEsMiwzLDQsNiw3XG4gICAgICAgIC8vbG9vcCB0aHJvdWdoIHRoZSBhcnJheSBlbGVtZW50cyBvciBjb2x1bW5zXG5cbiAgICAgIGZvciAobGV0IGNvbHVtbiA9IDA7IGNvbHVtbiA8IGNoZWNrZXJzQm9hcmRbcm93XS5sZW5ndGg7IGNvbHVtbisrKSB7XG4gICAgICAgIGNoZWNrZXJzQm9hcmRbcm93XVtjb2x1bW5dO1xuICAgICAgICAvL1RFU1QgdGhlIGNvbHVtbiBpbmRleCBpcyBiZWluZyBsb29wZWQgdGhyb3VnaFxuICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGNvbHVtbik7Ly9wYXNzZWQuIG91dHB1dCBpcyAwLDEsMiwzLDQsNiw3IGZvcmVhY2ggY29sdW1uXG5cbiAgICAgICAgLy9pZiB0aGUgcm93IGlzIG9kZCBhbmQgdGhlIGNvbHVtbiBldmVuIGFkZCBhIHNxdWFyZVxuICAgICAgICBpZihyb3cgJSAyID09PSAxICYmIGNvbHVtbiAlIDIgPT09IDAgKXtcbiAgICAgICAgICAgIC8vVEVTVCB0aGUgcm93IGlzIGNvcnJlY3Qtb2RkXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhyb3cpOy8vcGFzcy4gb3V0cHV0IGlzIDEsMyw1LDdcbiAgICAgICAgICAgICAgLy9URVNUIHRoZSBjb2x1bW4gaXMgY29ycmVjdC1ldmVuXG4gICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGNvbHVtbik7Ly9wYXNzZWQuIG91dHB1dCBpcyAwLDIsNCw2XG4gICAgICAgICAgICAgIC8vYXBwZW5kIGEgZGl2IHJlcHJlc2VudGluZyBhIHNxdWFyZSB0byB0aGUgJHNxdWFyZXNPbkJvYXJkIGRpdiB3aXRoIGNsYXNzXG4gICAgICAgICAgJHNxdWFyZXNPbkJvYXJkLmFwcGVuZChgPGRpdiBjbGFzcz0nc3F1YXJlJyBpZD0nc3F1YXJlJHtjb3VudFNxdWFyZXN9JyBzdHlsZT0ndG9wOiR7dmlld3BvcnRDb252ZXJzaW9uW3Jvd119OyBsZWZ0OiR7dmlld3BvcnRDb252ZXJzaW9uW2NvbHVtbl19Jz48L2Rpdj5gKTtcbiAgICAgICAgICAgICAgLy9jcmVhdGUgYSBuZXcgc3F1YXJlT2JqZWN0IGFuZCBhZGQgdGhlIG51bWJlciBvZiBzcXVhcmVzIGNvdW50IHRvIHRoZSBzcXVhcmVzIGNvdW50ZXJzXG4gICAgICAgICAgICAgIC8vdXNlIHRoZSBlbGVtZW50IGlkIGFuZCBwb3NpdGlvbiBhcyBhcmd1bWVudHMgdG8gY3JlYXRlIHRoZSBzcXVhcmVzXG4gICAgICAgICAgc3F1YXJlc1tjb3VudFNxdWFyZXNdID0gbmV3IHNxdWFyZSgkKCcjc3F1YXJlcycrY291bnRTcXVhcmVzKSwgW3BhcnNlSW50KHJvdyksIHBhcnNlSW50KGNvbHVtbildKTtcbiAgICAgICAgICBjb3VudFNxdWFyZXMrKztcbiAgICAgICAgICAgICAgLy8gLy9URVNUIHRoZSBjb3VudFNxdWFyZXMgd29ya3NcbiAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coY291bnRTcXVhcmVzKTsvL3Bhc3NlZC4gb3V0cHV0IGlzIDEgdG8gMTYgaW5kZXggYmFzZWQgaXMgMCB0byAxNVxuICAgICAgICB9ZWxzZSBpZihyb3cgJSAyID09PSAwICYmIGNvbHVtbiAlIDIgPT09IDEpIHsvL290aGVyd2lzZSBpZiByb3cgaXMgZXZlbi5cbiAgICAgICAgICAgIC8vVEVTVCB0aGUgY29sdW1uIGlzIGNvcnJlY3Qtb2RkXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhjb2x1bW4pOy8vcGFzc2VkLiBvdXRwdXQgaXMgMSwzLDUsN1xuICAgICAgICAgICRzcXVhcmVzT25Cb2FyZC5hcHBlbmQoYDxkaXYgY2xhc3M9J3NxdWFyZScgaWQ9J3NxdWFyZSR7Y291bnRTcXVhcmVzfScgc3R5bGU9J3RvcDoke3ZpZXdwb3J0Q29udmVyc2lvbltyb3ddfTsgbGVmdDoke3ZpZXdwb3J0Q29udmVyc2lvbltjb2x1bW5dfSc+PC9kaXY+YCk7XG4gICAgICAgICAgc3F1YXJlc1tjb3VudFNxdWFyZXNdID0gbmV3IHNxdWFyZSgkKCcjc3F1YXJlJytjb3VudFNxdWFyZXMpLCBbcGFyc2VJbnQocm93KSwgcGFyc2VJbnQoY29sdW1uKV0pO1xuICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhgaWQ9J3NxdWFyZSR7Y291bnRTcXVhcmVzfWApO1xuICAgICAgICAgIGNvdW50U3F1YXJlcysrO1xuXG4gICAgICAgIH0vL2VuZCBvZiBlbHNlIHN0YXRlbWVudFxuXG4gICAgICAgICAgICAvL2FkZCB0aGUgcGllY2VzIHRvIHRoZSBjaGVja2Vyc0JvYXJkXG4gICAgICAgIGlmKGNoZWNrZXJzQm9hcmRbcm93XVtjb2x1bW5dID09PSBwbGF5ZXIxKSB7XG4gICAgICAgICAgJHBsYXllcjFQaWVjZXMuYXBwZW5kKGA8ZGl2IGNsYXNzPSdwbGF5ZXIxLXBpZWNlcycgaWQ9JyR7Y291bnRQaWVjZXN9JyBzdHlsZT0ndG9wOiR7dmlld3BvcnRDb252ZXJzaW9uW3Jvd119OyBsZWZ0OiR7dmlld3BvcnRDb252ZXJzaW9uW2NvbHVtbl19Oyc+PC9kaXY+YCk7XG4gICAgICAgICAgcGllY2VzW2NvdW50UGllY2VzXSA9IG5ldyBwaWVjZSgkKCcjJytjb3VudFBpZWNlcyksIFtwYXJzZUludChyb3cpLCBwYXJzZUludChjb2x1bW4pXSk7XG4gICAgICAgICAgY291bnRQaWVjZXMrKztcbiAgICAgICAgICAgIC8vVEVTVCB2YWx1ZSBvZiBjaGVja2Vyc0JvYXJkW3Jvd11bY29sdW1uXVxuICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGBjaGVja2Vyc0JvYXJkIHJvdyBpczogJHtjaGVja2Vyc0JvYXJkW3Jvd119IGApO1xuICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGBjaGVja2Vyc0JvYXJkIGNvbHVtbiBpczogJHtjaGVja2Vyc0JvYXJkW2NvbHVtbl19IGApO1xuICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGBjaGVja2Vyc0JvYXJkIHJvdyBhbmQgY29sdW1uIGlzOiAke2NoZWNrZXJzQm9hcmRbcm93XVtjb2x1bW5dfWApOy8vcGFzc2VkLm91dHB1dCBpcyAxXG4gICAgICAgIH1lbHNlIGlmKGNoZWNrZXJzQm9hcmRbcm93XVtjb2x1bW5dID09PSBwbGF5ZXIyKSB7XG4gICAgICAgICAgJHBsYXllcjJQaWVjZXMuYXBwZW5kKGA8ZGl2IGNsYXNzPSdwbGF5ZXIyLXBpZWNlcycgaWQ9JyR7Y291bnRQaWVjZXN9JyBzdHlsZT0ndG9wOiR7dmlld3BvcnRDb252ZXJzaW9uW3Jvd119OyBsZWZ0OiR7dmlld3BvcnRDb252ZXJzaW9uW2NvbHVtbl19Oyc+PC9kaXY+YCk7XG4gICAgICAgICAgcGllY2VzW2NvdW50UGllY2VzXSA9IG5ldyBwaWVjZSgkKCcjJytjb3VudFBpZWNlcyksIFtwYXJzZUludChyb3cpLCBwYXJzZUludChjb2x1bW4pXSk7XG4gICAgICAgICAgY291bnRQaWVjZXMrKztcbiAgICAgICAgICAgIC8vVEVTVCB2YWx1ZSBvZiBjaGVja2Vyc0JvYXJkW3Jvd11bY29sdW1uXVxuICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGBjaGVja2Vyc0JvYXJkIHJvdyBpczogJHtjaGVja2Vyc0JvYXJkW3Jvd119IGApO1xuICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGBjaGVja2Vyc0JvYXJkIGNvbHVtbiBpczogJHtjaGVja2Vyc0JvYXJkW2NvbHVtbl19IGApO1xuICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGBjaGVja2Vyc0JvYXJkIDIgcm93IGFuZCBjb2x1bW4gaXM6ICR7Y2hlY2tlcnNCb2FyZFtyb3ddW2NvbHVtbl19YCk7Ly9wYXNzZWQuIG91dHB1dCBpcyAyXG4gICAgICAgIH1cblxuICAgICAgfS8vZW5kIG9mIGlubmVyIGZvciBsb29wXG4gICAgfS8vZW5kIG9mIG91dHRlciBmb3IgbG9vcFxuICB9Ly9lbmQgb2Ygc2V0dXAgZnVuY3Rpb25cblxuICAvL1NRVUFSRSBpcyBlbXB0eVxuICBmdW5jdGlvbiBzcXVhcmVJc0VtcHR5KHJvdywgY29sdW1uKXtcbiAgICAvL1RFU1Qgcm93IGFuZCBjb2x1bW5cbiAgICB0aGlzLnJvdyA9IHJvdztcbiAgICB0aGlzLmNvbHVtbiA9IGNvbHVtbjtcbiAgICBjb25zb2xlLmxvZyhgdmFsdWUgb2Ygcm93OiR7cm93fSBhbmQgdmFsdWUgb2YgY29sdW1uOiAke2NvbHVtbn1gKTtcbiAgICAvL3VzaW5nIGEgdGVuYXJ5IG9wZXJhdG9yIChhbiBvcGVyYXRvciBhY2NlcHRpbmcgMyBvcGVyYW5kcylhcyBzaG9ydGhhbmRcbiAgICAvL3RvIGlmIGVsc2UgY2hlY2sgaWYgdGhlcmUncyBhbiBvYmplY3RcbiAgICAvL29uIHRoZSByb3cgYW5kIGNvbHVtbiAoc3F1YXJlKVxuICAgIGNoZWNrZXJzQm9hcmRbcm93XVtjb2x1bW5dID09PSAwID8gdHJ1ZSA6IGZhbHNlO1xuICB9XG5cblxuXG4vL1NRVUFSRVxuIC8vY3JlYXRlIGEgc3F1YXJlIG9iamVjdCB0byBhdHRhY2ggdG8gdGhlIGNoZWNrZXJzQm9hcmRcbiAgZnVuY3Rpb24gc3F1YXJlIChlbGVtZW50LCBwb3NpdGlvbikge1xuICAgIC8vdXNpbmcgdGhpcyB0byBnaXZlIGxvY2FsIHZhcmlhYmxlcyBhIGNvbnRleHRcbiAgICAvL2VsZW1lbnQgaXMgdGhlIHRoZSBkaXYgbGlua2VkIHRvIHRoZSBET01cbiAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xuICAgIC8vIHRoZSBwb3NpdGlvbnMgYXJlIHJlcHJlc2VudGVkIGJ5IHRoZSBtdWx0aWRpbWVuc2lvbmFsIGFycmF5IGFzIHJvdyBhbmQgY29sdW1uIGZvcm1hdFxuICAgIHRoaXMucG9zaXRpb24gPSBwb3NpdGlvbjtcbiAgICAvL1RFU1QgdGhlIHNxdWFyZSBwb3NpdGlvblxuICAgIGNvbnNvbGUubG9nKGBUaGlzIHNxdWFyZXMnIHBvc2l0aW9uIGlzOiAke3Bvc2l0aW9ufWApO1xuICAgIC8vaWYgc3F1YXJlIGlzIGluIHJhbmdlIGZyb20gdGhlIHBpZWNlXG4gICAgdGhpcy5pblJhbmdlID0gZnVuY3Rpb24ocGllY2UpIHtcbiAgICAgIGlmKGRpc3RhbmNlKHRoaXMucG9zaXRpb25bMF0sIHRoaXMucG9zaXRpb25bMV0sIHBpZWNlLnBvc2l0aW9uWzBdLFxuICAgICAgICAgICAgICAgICAgcGllY2UucG9zaXRpb25bMV0pID09PSBNYXRoLnNxcnQoMikpIHtcbiAgICAgIC8vbm9ybWFsLW1vdmVcbiAgICAgICAgcmV0dXJuICdub3JtYWwtbW92ZSc7XG4gICAgICB9IGVsc2UgaWYoZGlzdGFuY2UodGhpcy5wb3NpdGlvblswXSwgdGhpcy5wb3NpdGlvblsxXSxcbiAgICAgICAgICAgICAgICAgIHBpZWNlLnBvc2l0aW9uWzBdLCBwaWVjZS5wb3NpdGlvblsxXSkgPT09IDIgKiBNYXRoLnNxcnQoMikpIHtcbiAgICAgIC8vanVtcC1tb3ZlXG4gICAgICAgIHJldHVybiAnanVtcC1tb3ZlJztcbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgLy9ESVNUQU5DRVxuICAvLyBXZSB1c2UgdGhlIFB5dGhhZ29yYXMgVGhlb3JlbSB0byBkZXJpdmUgYSBmb3JtdWxhIGZvclxuICAvLyBmaW5kaW5nIHRoZSBkaXN0YW5jZSBiZXR3ZWVuIHR3byBwb2ludHMgaW4gMi0gYW5kIDMtIGRpbWVuc2lvbmFsIHNwYWNlLlxuICBmdW5jdGlvbiBkaXN0YW5jZSh4MSx4Mix5MSx5Mil7XG4gICAgcmV0dXJuIE1hdGguc3FydChNYXRoLnBvdygoeDEteDIpLDIpKyBNYXRoLnBvdygoeTEteTIpLDIpKTtcbiAgfVxuXG4gIC8vUElFQ0VTXG4gIGZ1bmN0aW9uIHBpZWNlIChlbGVtZW50LCBwb3NpdGlvbikge1xuICAgIC8vdXNpbmcgdGhpcyB0byBnaXZlIGxvY2FsIHZhcnMgYSBjb250ZXh0XG4gICAgLy9lbGVtZW50IGlzIHRoZSB0aGUgZGl2IGxpbmtlZCB0byB0aGUgRE9NXG4gICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcbiAgICBjb25zb2xlLmxvZyh0aGlzLmVsZW1lbnQpO1xuICAgIC8vcG9zaXRpb25zIG9uIGdhbWVCb2FyZCBhcnJheSBpbiBmb3JtYXQgcm93LCBjb2x1bW5cbiAgICB0aGlzLnBvc2l0aW9uID0gcG9zaXRpb247XG4gICAgLy9URVNUIHRoZSBwb3NpdGlvblxuICAgIGNvbnNvbGUubG9nKGBUaGUgcGllY2UgcG9zaXRpb24gaXM6ICR7cG9zaXRpb259YCk7XG5cbiAgICAvL3dobydzIHBpZWNlIGlzIGl0LCBwbGF5ZXIgcGxhY2UgaG9sZGVyXG4gICAgdGhpcy5wbGF5ZXIgPSAnJztcbiAgICAvL2ZpZ3VyZSBvdXQgcGxheWVyIGJ5IHBpZWNlIGlkXG4gICAgaWYodGhpcy5lbGVtZW50IDwgMTIpXG4gICAgICB0aGlzLnBsYXllcjE7XG4gICAgZWxzZVxuICAgICAgdGhpcy5wbGF5ZXIyO1xuICB9XG5cbiAgLy8gQ0xJQ0sgRVZFTlRTXG4gICRzcXVhcmVzT25Cb2FyZC5vbignY2xpY2snLCgpPT57XG4gICAgLy9URVNUIHRoZSBjbGljayBldmVudCB3b3Jrcy5cbiAgICBjb25zb2xlLmxvZyhgY2xpY2sgZXZlbnRzIHdvcmtzIG9uIHRoZSBzcXVhcmVzIWApO1xuICB9KTtcblxuICAvL1NFTEVDVElORyBQSUVDRVNcbiAgJHBpZWNlcy5vbignY2xpY2snLCgpPT57XG4gICAgLy9URVNUIHRoZSBjbGljayBldmVudCB3b3Jrcy5cbiAgICBjb25zb2xlLmxvZyhgY2xpY2sgZXZlbnRzIHdvcmtzIG9uIHRoZSBwaWVjZXMhYCk7XG5cbiAgICBsZXQgc2VsZWN0ZWQgPSBudWxsO1xuICAgIGNvbnN0IGl0c1BsYXllcnNUdXJuID0gKCQodGhpcykucGFyZW50KCkuYXR0cignY2xhc3MnKS5cbiAgICBzcGxpdCgnICcpWzBdID09PSAncGxheWVyJytjaGVja2Vyc0JvYXJkLnBsYXllclR1cm4rJ3BpZWNlcycpO1xuICAgIGlmKGl0c1BsYXllcnNUdXJuKSB7XG4gICAgICBpZigkKHRoaXMpLmhhc0NsYXNzKCdzZWxlY3RlZCcpKSBzZWxlY3RlZCA9IHRydWU7XG4gICAgICAkKCcucGllY2UnKS5lYWNoKGZ1bmN0aW9uKGluZGV4KSB7XG4gICAgICAgICQoJy5waWVjZScpLmVxKGluZGV4KS5yZW1vdmVDbGFzcygnc2VsZWN0ZWQnKTtcbiAgICAgIH0pO1xuICAgICAgaWYoIXNlbGVjdGVkKSB7XG4gICAgICAgICQodGhpcykuYWRkQ2xhc3MoJ3NlbGVjdGVkJyk7XG4gICAgICB9XG4gICAgfVxuXG4gIH0pO1xuXG59KTsvL2VuZCBvZiBqUXVlcnkgbG9hZFxuIl19
