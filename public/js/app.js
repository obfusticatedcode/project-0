"use strict";$(function(){function e(e,i){this.element=e,this.position=i,console.log("This squares' position is: "+i),this.inRange=function(e){return s(this.position[0],this.position[1],e.position[0],e.position[1])===Math.sqrt(2)?"normal-move":s(this.position[0],this.position[1],e.position[0],e.position[1])===2*Math.sqrt(2)?"jump-move":void 0}}function s(e,s,i,n){return Math.sqrt(Math.pow(e-s,2)+Math.pow(i-n,2))}function i(e,s){this.element=e,console.log(this.element),this.position=s,console.log("The piece position is: "+s),this.player="",this.element<12?this.player1:this.player2}console.log("jQuery is working!");var n=$("#checkers-board"),t=$(".squares"),o=$(".pieces"),p=$("#player1"),l=$("#player2"),a=$(".player1-pieces");$(".player2-pieces"),$("#checkers-board .pieces .player1 .selected");console.log(n+" ");var r=[[0,1,0,1,0,1,0,1],[1,0,1,0,1,0,1,0],[0,1,0,1,0,1,0,1],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[2,0,2,0,2,0,2,0],[0,2,0,2,0,2,0,2],[2,0,2,0,2,0,2,0]],c=[],h=[],v=1,d=2,u=0,m=0,y=["0vmin","10vmin","20vmin","30vmin","40vmin","50vmin","60vmin","70vmin"];!function(){for(var s=0;s<r.length;s++){r[s];for(var n=0;n<r[s].length;n++)r[s][n],s%2==1&&n%2==0?(t.append("<div class='square' id='square"+u+"' style='top:"+y[s]+"; left:"+y[n]+"'></div>"),h[u]=new e($("#squares"+u),[parseInt(s),parseInt(n)]),u++):s%2==0&&n%2==1&&(t.append("<div class='square' id='square"+u+"' style='top:"+y[s]+"; left:"+y[n]+"'></div>"),h[u]=new e($("#square"+u),[parseInt(s),parseInt(n)]),u++),r[s][n]===v?(p.append("<div class='player1-pieces' id='"+m+"' style='top:"+y[s]+"; left:"+y[n]+";'></div>"),c[m]=new i($("#"+m),[parseInt(s),parseInt(n)]),m++):r[s][n]===d&&(l.append("<div class='player2-pieces' id='"+m+"' style='top:"+y[s]+"; left:"+y[n]+";'></div>"),c[m]=new i($("#"+m),[parseInt(s),parseInt(n)]),m++)}}(),t.on("click",function(){console.log("click events works on the squares!")}),o.on("click",function(){console.log("click events works on the pieces!"),a.addClass("selected"),console.log(a)})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyIkIiwiZGlzdGFuY2UiLCJlbGVtZW50IiwicG9zaXRpb24iLCJ0aGlzIiwiY29uc29sZSIsImxvZyIsImluUmFuZ2UiLCJwaWVjZSIsIk1hdGgiLCJzcXJ0IiwieDEiLCJ5MSIsIngyIiwieTIiLCJwb3ciLCIkcGllY2VzIiwiJHBsYXllcjFQaWVjZXMiLCJwbGF5ZXIyIiwiJGNoZWNrZXJzQm9hcmQiLCIkc3F1YXJlc09uQm9hcmQiLCIkcGxheWVyMSIsIiRwbGF5ZXIyIiwiJHBsYXllcjJQaWVjZXMiLCJjaGVja2Vyc0JvYXJkIiwicGllY2VzIiwic3F1YXJlcyIsInBsYXllcjEiLCJjb3VudFNxdWFyZXMiLCJ2aWV3cG9ydENvbnZlcnNpb24iLCJwbGF5ZXJUdXJuIiwicm93IiwiY29sdW1uIiwibGVuZ3RoIiwiYXBwZW5kIiwic3F1YXJlIiwicGFyc2VJbnQiLCJjb3VudFBpZWNlcyIsIm9uIiwiYWRkQ2xhc3MiXSwibWFwcGluZ3MiOiJZQUNBQSxHQUFFLFdBbUpJLFFBQUdDLEdBQVNDLEVBQUtDLEdBSWhCQyxLQUpERixRQUlVRCxFQUdSRyxLQUFBRCxTQUFPQSxFQUVWRSxRQVZEQyxJQVVDLDhCQVZESCxHQUFBQyxLQUFLRyxRQUFVLFNBQVNDLEdBYTFCLE1BQUFQLEdBQUFHLEtBQUFELFNBQUEsR0FBQUMsS0FBQUQsU0FBQSxHQUFBSyxFQUFBTCxTQUFBLEdBQ0FLLEVBQUFMLFNBQUEsTUFBQU0sS0FBQUMsS0FBQSxHQUVTVCxjQUNLUyxFQUFLRCxLQUFVRSxTQUFPLEdBQWpCUCxLQUFxQkssU0FBVUcsR0FDakRKLEVBQUFMLFNBQUEsR0FBQUssRUFBQUwsU0FBQSxNQUFBLEVBQUFNLEtBQUFDLEtBQUEsR0FFRCxnQkFIU0QsSUFXUCxRQUFBUixHQUFBVSxFQUFBRSxFQUFBRCxFQUFBRSxHQUNBVCxNQUFBQSxNQUFBSyxLQUFBRCxLQUFBTSxJQUFBSixFQUFBRSxFQUFBLEdBQUFKLEtBQXNDTixJQUF0Q1MsRUFB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alF1ZXJ5XG4kKCgpPT57XG4vLyBURVNUIGpRdWVyeSBpcyB3b3JraW5nXG4gIGNvbnNvbGUubG9nKGBqUXVlcnkgaXMgd29ya2luZyFgKTsvL3Bhc3NlZC4gb3V0cHV0IGlzIGpRdWVyeSBpcyB3b3JraW5nIVxuXG5cbi8vZ3JhYiBET00gZWxlbWVudHNcbiAgY29uc3QgJGNoZWNrZXJzQm9hcmQgPSAkKCcjY2hlY2tlcnMtYm9hcmQnKTtcbiAgY29uc3QgJHNxdWFyZXNPbkJvYXJkID0gJCgnLnNxdWFyZXMnKTtcbiAgY29uc3QgJHBpZWNlcyA9ICQoJy5waWVjZXMnKTtcbiAgLy9wbGF5ZXIxIHBpZWNlIGNsYXNzXG4gIGNvbnN0ICRwbGF5ZXIxID0kKCcjcGxheWVyMScpO1xuICAvL3BsYXllcjIgcGllY2UgY2xhc3NcbiAgY29uc3QgJHBsYXllcjIgPSQoJyNwbGF5ZXIyJyk7XG4gIC8vcGxheWVyMSBwaWVjZXNcbiAgY29uc3QgJHBsYXllcjFQaWVjZXMgPSQoJy5wbGF5ZXIxLXBpZWNlcycpO1xuICAvL3BsYXllcjIgcGllY2VzXG4gIGNvbnN0ICRwbGF5ZXIyUGllY2VzID0kKCcucGxheWVyMi1waWVjZXMnKTtcbiAgLy90aGUgc2VsZWN0ZWQgY2xhc3NcbiAgY29uc3QgJHNlbGVjdGVkID0kKCcjY2hlY2tlcnMtYm9hcmQgLnBpZWNlcyAucGxheWVyMSAuc2VsZWN0ZWQnKTtcblxuLy9URVNUIGRvbSBlbGVtZW50cyBhcmUgd29ya2luZ1xuICBjb25zb2xlLmxvZyhgJHskY2hlY2tlcnNCb2FyZH0gYCk7Ly9vdXRwdXQgaXMgb2JqZWN0IE9iamVjdFxuXG5cbi8vc2V0dXAgR0xPQkFMIFZBUklBQkxFU1xuLy9ib2FyZCBhcnJheSB3aXRoIHJvd3MgYW5kIGNvbHVtbnMgdG8gc2ltdWxhdGUgdGhlIHJlYWwgd29ybGQgOHg4IGJvYXJkXG4gIGNvbnN0IGNoZWNrZXJzQm9hcmQgPSBbXG4gICAgWyAgMCwgIDEsICAwLCAgMSwgIDAsICAxLCAgMCwgIDEgXSxcbiAgICBbICAxLCAgMCwgIDEsICAwLCAgMSwgIDAsICAxLCAgMCBdLFxuICAgIFsgIDAsICAxLCAgMCwgIDEsICAwLCAgMSwgIDAsICAxIF0sXG4gICAgWyAgMCwgIDAsICAwLCAgMCwgIDAsICAwLCAgMCwgIDAgXSxcbiAgICBbICAwLCAgMCwgIDAsICAwLCAgMCwgIDAsICAwLCAgMCBdLFxuICAgIFsgIDIsICAwLCAgMiwgIDAsICAyLCAgMCwgIDIsICAwIF0sXG4gICAgWyAgMCwgIDIsICAwLCAgMiwgIDAsICAyLCAgMCwgIDIgXSxcbiAgICBbICAyLCAgMCwgIDIsICAwLCAgMiwgIDAsICAyLCAgMCBdXG4gIF07XG5cbi8vaW5jcmVtZW50YWwgYXJyYXlzXG4gIGNvbnN0IHBpZWNlcyA9IFtdO1xuICBjb25zdCBzcXVhcmVzID0gW107XG4vL3BsYXllcnNcbiAgY29uc3QgcGxheWVyMSA9IDE7XG4gIGNvbnN0IHBsYXllcjIgPSAyO1xuLy9wbGF5ZXJzIHR1cm5cbiAgbGV0IHBsYXllclR1cm4gPSBudWxsO1xuLy9jb3VudGVyc1xuICBsZXQgY291bnRTcXVhcmVzID0gMDtcbiAgbGV0IGNvdW50UGllY2VzID0gMDtcbi8vYXJyYXkgd2l0aCB2aWV3IHBvcnQgY29udmVyc2lvbiB3aXRoIHRvcCBhbmQgbGVmdFxuLy9WaWV3cG9ydCBNaW5pbXVtICh2bWluKSDigJQgVGhpcyB1bml0IGlzIGJhc2VkIG9uXG4vL3RoZSBzbWFsbGVyIGRpbWVuc2lvbiBvZiB0aGUgdmlld3BvcnQuXG4vL0lmIHRoZSB2aWV3cG9ydCBoZWlnaHQgaXMgc21hbGxlciB0aGFuIHRoZSB3aWR0aCxcbi8vdGhlIHZhbHVlIG9mIDF2bWluIHdpbGwgYmUgZXF1YWwgdG8gMSUgb2YgdGhlIHZpZXdwb3J0IGhlaWdodC5cbi8vU2ltaWxhcmx5LCBpZiB0aGUgdmlld3BvcnQgd2lkdGggaXMgc21hbGxlciB0aGFuIHRoZSBoZWlnaHQsIHRoZSB2YWx1ZSBvZiAxdm1pbiB3aWxsIGJlIGVxdWFsIHRvIDElIG9mIHRoZSB2aWV3cG9ydCB3aWR0aC5cbiAgY29uc3Qgdmlld3BvcnRDb252ZXJzaW9uID0gWycwdm1pbicsJzEwdm1pbicsJzIwdm1pbicsJzMwdm1pbicsJzQwdm1pbicsJzUwdm1pbicsJzYwdm1pbicsJzcwdm1pbiddO1xuXG4gIC8vY2FsbCB0aGUgU0VUVVAgZnVuY3Rpb24vbWV0aG9kIHRvIGNyZWF0ZSB0aGUgYm9hcmQgYW5kIGFkZCBwaWVjZXNcbiAgc2V0dXAoKTtcblxuICBmdW5jdGlvbiBzZXR1cCgpe1xuICAgIC8vcGxheWVyIDEgYWx3YXlzIHN0YXJ0c1xuICAgIHBsYXllclR1cm4gPT09IHBsYXllcjE7XG4gICAgLy9sb29wIHRocm91Z2ggdGhlIGFycmF5IGNhbGxlZCBjaGVja2Vyc0JvYXJkIGluZGV4ZWQgYXQgMFxuICAgIGZvciAobGV0IHJvdyA9IDA7IHJvdyA8IGNoZWNrZXJzQm9hcmQubGVuZ3RoOyByb3crKykge1xuICAgICAgY2hlY2tlcnNCb2FyZFtyb3ddO1xuICAgICAgICAvL1RFU1QgdGhlIHJvd3MgaW5kZXggaXMgd29ya2luZ1xuICAgICAgICAvLyBjb25zb2xlLmxvZyhyb3cpOy8vcGFzc2VkLiBvdXRwdXQgaXMgMCwxLDIsMyw0LDYsN1xuICAgICAgICAvL2xvb3AgdGhyb3VnaCB0aGUgYXJyYXkgZWxlbWVudHMgb3IgY29sdW1uc1xuXG4gICAgICBmb3IgKGxldCBjb2x1bW4gPSAwOyBjb2x1bW4gPCBjaGVja2Vyc0JvYXJkW3Jvd10ubGVuZ3RoOyBjb2x1bW4rKykge1xuICAgICAgICBjaGVja2Vyc0JvYXJkW3Jvd11bY29sdW1uXTtcbiAgICAgICAgLy9URVNUIHRoZSBjb2x1bW4gaW5kZXggaXMgYmVpbmcgbG9vcGVkIHRocm91Z2hcbiAgICAgICAgICAvLyBjb25zb2xlLmxvZyhjb2x1bW4pOy8vcGFzc2VkLiBvdXRwdXQgaXMgMCwxLDIsMyw0LDYsNyBmb3JlYWNoIGNvbHVtblxuXG4gICAgICAgIC8vaWYgdGhlIHJvdyBpcyBvZGQgYW5kIHRoZSBjb2x1bW4gZXZlbiBhZGQgYSBzcXVhcmVcbiAgICAgICAgaWYocm93ICUgMiA9PT0gMSAmJiBjb2x1bW4gJSAyID09PSAwICl7XG4gICAgICAgICAgICAvL1RFU1QgdGhlIHJvdyBpcyBjb3JyZWN0LW9kZFxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2cocm93KTsvL3Bhc3MuIG91dHB1dCBpcyAxLDMsNSw3XG4gICAgICAgICAgICAgIC8vVEVTVCB0aGUgY29sdW1uIGlzIGNvcnJlY3QtZXZlblxuICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhjb2x1bW4pOy8vcGFzc2VkLiBvdXRwdXQgaXMgMCwyLDQsNlxuICAgICAgICAgICAgICAvL2FwcGVuZCBhIGRpdiByZXByZXNlbnRpbmcgYSBzcXVhcmUgdG8gdGhlICRzcXVhcmVzT25Cb2FyZCBkaXYgd2l0aCBjbGFzc1xuICAgICAgICAgICRzcXVhcmVzT25Cb2FyZC5hcHBlbmQoYDxkaXYgY2xhc3M9J3NxdWFyZScgaWQ9J3NxdWFyZSR7Y291bnRTcXVhcmVzfScgc3R5bGU9J3RvcDoke3ZpZXdwb3J0Q29udmVyc2lvbltyb3ddfTsgbGVmdDoke3ZpZXdwb3J0Q29udmVyc2lvbltjb2x1bW5dfSc+PC9kaXY+YCk7XG4gICAgICAgICAgICAgIC8vY3JlYXRlIGEgbmV3IHNxdWFyZU9iamVjdCBhbmQgYWRkIHRoZSBudW1iZXIgb2Ygc3F1YXJlcyBjb3VudCB0byB0aGUgc3F1YXJlcyBjb3VudGVyc1xuICAgICAgICAgICAgICAvL3VzZSB0aGUgZWxlbWVudCBpZCBhbmQgcG9zaXRpb24gYXMgYXJndW1lbnRzIHRvIGNyZWF0ZSB0aGUgc3F1YXJlc1xuICAgICAgICAgIHNxdWFyZXNbY291bnRTcXVhcmVzXSA9IG5ldyBzcXVhcmUoJCgnI3NxdWFyZXMnK2NvdW50U3F1YXJlcyksIFtwYXJzZUludChyb3cpLCBwYXJzZUludChjb2x1bW4pXSk7XG4gICAgICAgICAgY291bnRTcXVhcmVzKys7XG4gICAgICAgICAgICAgIC8vIC8vVEVTVCB0aGUgY291bnRTcXVhcmVzIHdvcmtzXG4gICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGNvdW50U3F1YXJlcyk7Ly9wYXNzZWQuIG91dHB1dCBpcyAxIHRvIDE2IGluZGV4IGJhc2VkIGlzIDAgdG8gMTVcbiAgICAgICAgfWVsc2UgaWYocm93ICUgMiA9PT0gMCAmJiBjb2x1bW4gJSAyID09PSAxKSB7Ly9vdGhlcndpc2UgaWYgcm93IGlzIGV2ZW4uXG4gICAgICAgICAgICAvL1RFU1QgdGhlIGNvbHVtbiBpcyBjb3JyZWN0LW9kZFxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coY29sdW1uKTsvL3Bhc3NlZC4gb3V0cHV0IGlzIDEsMyw1LDdcbiAgICAgICAgICAkc3F1YXJlc09uQm9hcmQuYXBwZW5kKGA8ZGl2IGNsYXNzPSdzcXVhcmUnIGlkPSdzcXVhcmUke2NvdW50U3F1YXJlc30nIHN0eWxlPSd0b3A6JHt2aWV3cG9ydENvbnZlcnNpb25bcm93XX07IGxlZnQ6JHt2aWV3cG9ydENvbnZlcnNpb25bY29sdW1uXX0nPjwvZGl2PmApO1xuICAgICAgICAgIHNxdWFyZXNbY291bnRTcXVhcmVzXSA9IG5ldyBzcXVhcmUoJCgnI3NxdWFyZScrY291bnRTcXVhcmVzKSwgW3BhcnNlSW50KHJvdyksIHBhcnNlSW50KGNvbHVtbildKTtcbiAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coYGlkPSdzcXVhcmUke2NvdW50U3F1YXJlc31gKTtcbiAgICAgICAgICBjb3VudFNxdWFyZXMrKztcblxuICAgICAgICB9Ly9lbmQgb2YgZWxzZSBzdGF0ZW1lbnRcblxuICAgICAgICAgICAgLy9hZGQgdGhlIHBpZWNlcyB0byB0aGUgY2hlY2tlcnNCb2FyZFxuICAgICAgICBpZihjaGVja2Vyc0JvYXJkW3Jvd11bY29sdW1uXSA9PT0gcGxheWVyMSkge1xuICAgICAgICAgICRwbGF5ZXIxLmFwcGVuZChgPGRpdiBjbGFzcz0ncGxheWVyMS1waWVjZXMnIGlkPScke2NvdW50UGllY2VzfScgc3R5bGU9J3RvcDoke3ZpZXdwb3J0Q29udmVyc2lvbltyb3ddfTsgbGVmdDoke3ZpZXdwb3J0Q29udmVyc2lvbltjb2x1bW5dfTsnPjwvZGl2PmApO1xuICAgICAgICAgIHBpZWNlc1tjb3VudFBpZWNlc10gPSBuZXcgcGllY2UoJCgnIycrY291bnRQaWVjZXMpLCBbcGFyc2VJbnQocm93KSwgcGFyc2VJbnQoY29sdW1uKV0pO1xuICAgICAgICAgIGNvdW50UGllY2VzKys7XG4gICAgICAgICAgICAvL1RFU1QgdmFsdWUgb2YgY2hlY2tlcnNCb2FyZFtyb3ddW2NvbHVtbl1cbiAgICAgICAgICAvLyBjb25zb2xlLmxvZyhgY2hlY2tlcnNCb2FyZCByb3cgaXM6ICR7Y2hlY2tlcnNCb2FyZFtyb3ddfSBgKTtcbiAgICAgICAgICAvLyBjb25zb2xlLmxvZyhgY2hlY2tlcnNCb2FyZCBjb2x1bW4gaXM6ICR7Y2hlY2tlcnNCb2FyZFtjb2x1bW5dfSBgKTtcbiAgICAgICAgICAvLyBjb25zb2xlLmxvZyhgY2hlY2tlcnNCb2FyZCByb3cgYW5kIGNvbHVtbiBpczogJHtjaGVja2Vyc0JvYXJkW3Jvd11bY29sdW1uXX1gKTsvL3Bhc3NlZC5vdXRwdXQgaXMgMVxuICAgICAgICB9ZWxzZSBpZihjaGVja2Vyc0JvYXJkW3Jvd11bY29sdW1uXSA9PT0gcGxheWVyMikge1xuICAgICAgICAgICRwbGF5ZXIyLmFwcGVuZChgPGRpdiBjbGFzcz0ncGxheWVyMi1waWVjZXMnIGlkPScke2NvdW50UGllY2VzfScgc3R5bGU9J3RvcDoke3ZpZXdwb3J0Q29udmVyc2lvbltyb3ddfTsgbGVmdDoke3ZpZXdwb3J0Q29udmVyc2lvbltjb2x1bW5dfTsnPjwvZGl2PmApO1xuICAgICAgICAgIHBpZWNlc1tjb3VudFBpZWNlc10gPSBuZXcgcGllY2UoJCgnIycrY291bnRQaWVjZXMpLCBbcGFyc2VJbnQocm93KSwgcGFyc2VJbnQoY29sdW1uKV0pO1xuICAgICAgICAgIGNvdW50UGllY2VzKys7XG4gICAgICAgICAgICAvL1RFU1QgdmFsdWUgb2YgY2hlY2tlcnNCb2FyZFtyb3ddW2NvbHVtbl1cbiAgICAgICAgICAvLyBjb25zb2xlLmxvZyhgY2hlY2tlcnNCb2FyZCByb3cgaXM6ICR7Y2hlY2tlcnNCb2FyZFtyb3ddfSBgKTtcbiAgICAgICAgICAvLyBjb25zb2xlLmxvZyhgY2hlY2tlcnNCb2FyZCBjb2x1bW4gaXM6ICR7Y2hlY2tlcnNCb2FyZFtjb2x1bW5dfSBgKTtcbiAgICAgICAgICAvLyBjb25zb2xlLmxvZyhgY2hlY2tlcnNCb2FyZCAyIHJvdyBhbmQgY29sdW1uIGlzOiAke2NoZWNrZXJzQm9hcmRbcm93XVtjb2x1bW5dfWApOy8vcGFzc2VkLiBvdXRwdXQgaXMgMlxuICAgICAgICB9XG5cbiAgICAgIH0vL2VuZCBvZiBpbm5lciBmb3IgbG9vcFxuICAgIH0vL2VuZCBvZiBvdXR0ZXIgZm9yIGxvb3BcbiAgfS8vZW5kIG9mIHNldHVwIGZ1bmN0aW9uXG5cbiAgLy9TUVVBUkUgaXMgZW1wdHlcbiAgZnVuY3Rpb24gc3F1YXJlSXNFbXB0eShyb3csIGNvbHVtbil7XG4gICAgLy9URVNUIHJvdyBhbmQgY29sdW1uXG4gICAgdGhpcy5yb3cgPSByb3c7XG4gICAgdGhpcy5jb2x1bW4gPSBjb2x1bW47XG4gICAgY29uc29sZS5sb2coYHZhbHVlIG9mIHJvdzoke3Jvd30gYW5kIHZhbHVlIG9mIGNvbHVtbjogJHtjb2x1bW59YCk7XG4gICAgLy91c2luZyBhIHRlbmFyeSBvcGVyYXRvciAoYW4gb3BlcmF0b3IgYWNjZXB0aW5nIDMgb3BlcmFuZHMpYXMgc2hvcnRoYW5kXG4gICAgLy90byBpZiBlbHNlIGNoZWNrIGlmIHRoZXJlJ3MgYW4gb2JqZWN0XG4gICAgLy9vbiB0aGUgcm93IGFuZCBjb2x1bW4gKHNxdWFyZSlcbiAgICBjaGVja2Vyc0JvYXJkW3Jvd11bY29sdW1uXSA9PT0gMCA/IHRydWUgOiBmYWxzZTtcbiAgfVxuXG5cblxuLy9TUVVBUkVcbiAvL2NyZWF0ZSBhIHNxdWFyZSBvYmplY3QgdG8gYXR0YWNoIHRvIHRoZSBjaGVja2Vyc0JvYXJkXG4gIGZ1bmN0aW9uIHNxdWFyZSAoZWxlbWVudCwgcG9zaXRpb24pIHtcbiAgICAvL3VzaW5nIHRoaXMgdG8gZ2l2ZSBsb2NhbCB2YXJpYWJsZXMgYSBjb250ZXh0XG4gICAgLy9lbGVtZW50IGlzIHRoZSB0aGUgZGl2IGxpbmtlZCB0byB0aGUgRE9NXG4gICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcbiAgICAvLyB0aGUgcG9zaXRpb25zIGFyZSByZXByZXNlbnRlZCBieSB0aGUgbXVsdGlkaW1lbnNpb25hbCBhcnJheSBhcyByb3cgYW5kIGNvbHVtbiBmb3JtYXRcbiAgICB0aGlzLnBvc2l0aW9uID0gcG9zaXRpb247XG4gICAgLy9URVNUIHRoZSBzcXVhcmUgcG9zaXRpb25cbiAgICBjb25zb2xlLmxvZyhgVGhpcyBzcXVhcmVzJyBwb3NpdGlvbiBpczogJHtwb3NpdGlvbn1gKTtcbiAgICAvL2lmIHNxdWFyZSBpcyBpbiByYW5nZSBmcm9tIHRoZSBwaWVjZVxuICAgIHRoaXMuaW5SYW5nZSA9IGZ1bmN0aW9uKHBpZWNlKSB7XG4gICAgICBpZihkaXN0YW5jZSh0aGlzLnBvc2l0aW9uWzBdLCB0aGlzLnBvc2l0aW9uWzFdLCBwaWVjZS5wb3NpdGlvblswXSxcbiAgICAgICAgICAgICAgICAgIHBpZWNlLnBvc2l0aW9uWzFdKSA9PT0gTWF0aC5zcXJ0KDIpKSB7XG4gICAgICAvL25vcm1hbC1tb3ZlXG4gICAgICAgIHJldHVybiAnbm9ybWFsLW1vdmUnO1xuICAgICAgfSBlbHNlIGlmKGRpc3RhbmNlKHRoaXMucG9zaXRpb25bMF0sIHRoaXMucG9zaXRpb25bMV0sXG4gICAgICAgICAgICAgICAgICBwaWVjZS5wb3NpdGlvblswXSwgcGllY2UucG9zaXRpb25bMV0pID09PSAyICogTWF0aC5zcXJ0KDIpKSB7XG4gICAgICAvL2p1bXAtbW92ZVxuICAgICAgICByZXR1cm4gJ2p1bXAtbW92ZSc7XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIC8vRElTVEFOQ0VcbiAgLy8gV2UgdXNlIHRoZSBQeXRoYWdvcmFzIFRoZW9yZW0gdG8gZGVyaXZlIGEgZm9ybXVsYSBmb3JcbiAgLy8gZmluZGluZyB0aGUgZGlzdGFuY2UgYmV0d2VlbiB0d28gcG9pbnRzIGluIDItIGFuZCAzLSBkaW1lbnNpb25hbCBzcGFjZS5cbiAgZnVuY3Rpb24gZGlzdGFuY2UoeDEseDIseTEseTIpe1xuICAgIHJldHVybiBNYXRoLnNxcnQoTWF0aC5wb3coKHgxLXgyKSwyKSsgTWF0aC5wb3coKHkxLXkyKSwyKSk7XG4gIH1cblxuICAvL1BJRUNFU1xuICBmdW5jdGlvbiBwaWVjZSAoZWxlbWVudCwgcG9zaXRpb24pIHtcbiAgICAvL3VzaW5nIHRoaXMgdG8gZ2l2ZSBsb2NhbCB2YXJzIGEgY29udGV4dFxuICAgIC8vZWxlbWVudCBpcyB0aGUgdGhlIGRpdiBsaW5rZWQgdG8gdGhlIERPTVxuICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgY29uc29sZS5sb2codGhpcy5lbGVtZW50KTtcbiAgICAvL3Bvc2l0aW9ucyBvbiBnYW1lQm9hcmQgYXJyYXkgaW4gZm9ybWF0IHJvdywgY29sdW1uXG4gICAgdGhpcy5wb3NpdGlvbiA9IHBvc2l0aW9uO1xuICAgIC8vVEVTVCB0aGUgcG9zaXRpb25cbiAgICBjb25zb2xlLmxvZyhgVGhlIHBpZWNlIHBvc2l0aW9uIGlzOiAke3Bvc2l0aW9ufWApO1xuXG4gICAgLy93aG8ncyBwaWVjZSBpcyBpdCwgcGxheWVyIHBsYWNlIGhvbGRlclxuICAgIHRoaXMucGxheWVyID0gJyc7XG4gICAgLy9maWd1cmUgb3V0IHBsYXllciBieSBwaWVjZSBpZFxuICAgIGlmKHRoaXMuZWxlbWVudCA8IDEyKVxuICAgICAgdGhpcy5wbGF5ZXIxO1xuICAgIGVsc2VcbiAgICAgIHRoaXMucGxheWVyMjtcbiAgfVxuXG4gIC8vIENMSUNLIEVWRU5UU1xuICAkc3F1YXJlc09uQm9hcmQub24oJ2NsaWNrJywoKT0+e1xuICAgIC8vVEVTVCB0aGUgY2xpY2sgZXZlbnQgd29ya3MuXG4gICAgY29uc29sZS5sb2coYGNsaWNrIGV2ZW50cyB3b3JrcyBvbiB0aGUgc3F1YXJlcyFgKTtcbiAgfSk7XG5cbiAgLy9TRUxFQ1RJTkcgUElFQ0VTXG4gICRwaWVjZXMub24oJ2NsaWNrJywoKT0+e1xuICAgIC8vVEVTVCB0aGUgY2xpY2sgZXZlbnQgd29ya3MuXG4gICAgY29uc29sZS5sb2coYGNsaWNrIGV2ZW50cyB3b3JrcyBvbiB0aGUgcGllY2VzIWApO1xuICAgICRwbGF5ZXIxUGllY2VzLmFkZENsYXNzKCdzZWxlY3RlZCcpO1xuICAgIGNvbnNvbGUubG9nKCRwbGF5ZXIxUGllY2VzKTtcbiAgICAvLyBsZXQgc2VsZWN0ZWQgPSBudWxsO1xuICAgIC8vIGlmKCQodGhpcykuaGFzQ2xhc3MoJ3NlbGVjdGVkJykpe1xuICAgIC8vICAgc2VsZWN0ZWQgPSB0cnVlO1xuICAgIC8vICAgJHBpZWNlcy5lYWNoKGZ1bmN0aW9uKGluZGV4KSB7XG4gICAgLy8gICAgICRwaWVjZXMuZXEoaW5kZXgpLnJlbW92ZUNsYXNzKCdzZWxlY3RlZCcpO1xuICAgIC8vICAgfSk7XG4gICAgLy8gfSBlbHNlIGlmKCFzZWxlY3RlZCkge1xuICAgIC8vICAgJCh0aGlzKS5hZGRDbGFzcygnc2VsZWN0ZWQnKTtcbiAgICAvLyB9XG4gIH0pO1xuXG59KTsvL2VuZCBvZiBqUXVlcnkgbG9hZFxuIl19
