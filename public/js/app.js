"use strict";$(function(){function e(e,a){return{top:a*(o+r)+"px",left:e*(o+r)+"px"}}function a(e,a){return{x:a/(o+r),y:e/(o+r)}}function i(){var e=$("div.square"),i=$("div.piece").map(function(i,t){var d=$(t).position(),o=a(d.top,d.left),r=8*o.y+o.x;return e[r]});return $("div.square.dark").not(i)}function t(){$("piece");$("div.piece:even").addClass("light"),$("div.piece:odd").addClass("dark")}function d(e,a,i){e.css("top",a),e.css("left",i)}var o=46,r=2,n=$("div#board"),s=$("div#pieces");$("document").ready(function(){for(var a=0;a<64;a++)n.append($("<div/>").addClass("square"));for(var o=0;o<24;o++)s.append($("<div/>").addClass("piece"));t(),$("div.piece.light").each(function(a,i){var t=Math.floor(a/4),o=a%4*2+(1-t%2),r=e(o,t);d($(i),r.top,r.left)}),$("div.piece.dark").each(function(a,i){var t=Math.floor(a/4)+5,o=a%4*2+(1-t%2),r=e(o,t);d($(i),r.top,r.left)}),i().addClass("movable"),$("div.piece").click(function(){$(this)}),$("div.square").click(function(){var a=$(this);if(a.hasClass("movable")){var t=$("div.piece.selected");if(1===t.length){var o=a.prevAll().length,r=o%8,n=Math.floor(o/8),s=e(r,n);d(t,s.top,s.left),t.removeClass("selected"),$("div.square").removeClass("movable"),i().addClass("movable")}}})})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyIkIiwiZ2V0UGl4ZWxzIiwieCIsInkiLCJ0b3AiLCJ3aWR0aCIsImJvcmRlciIsImxlZnQiLCJnZXRDb29yZHMiLCJnZXRNb3ZhYmxlU3F1YXJlcyIsIiRzcXVhcmVzIiwiJHRha2VuU3F1YXJlcyIsIm1hcCIsImluZGV4IiwicGllY2UiLCJwb3NpdGlvbiIsImNvb3JkcyIsInNxdWFyZUluZGV4Iiwibm90Iiwic2V0VXBQaWVjZXMiLCJhZGRDbGFzcyIsIiRwaWVjZSIsIm5ld0xlZnQiLCJjc3MiLCJuZXdUb3AiLCJzZXRVcEJvYXJkIiwicmVhZHkiLCJzcXVhcmVDb3VudCIsImkiLCIkYm9hcmQiLCJhcHBlbmQiLCJwaWVjZUNvdW50IiwiJHBpZWNlcyIsImVhY2giLCJwaXhlbFBvc2l0aW9uIiwibW92ZVBpZWNlVG8iLCJjbGljayIsInRoaXMiLCIkdGhpcyIsImhhc0NsYXNzIiwiJHNlbGVjdGVkUGllY2UiLCJsZW5ndGgiLCJwcmV2QWxsIiwiTWF0aCIsInBpeGVscyIsInJlbW92ZUNsYXNzIl0sIm1hcHBpbmdzIjoiWUFDQUEsR0FBRSxXQVlBLFFBQUFDLEdBQUFDLEVBQUFDLEdBSUksT0FHQUMsSUFBUUQsR0FBS0UsRUFBTUMsR0FBUyxLQUQ5QkMsS0FBT0wsR0FBQUcsRUFBQUMsR0FBQSxNQU9ULFFBQUFFLEdBQUFKLEVBQUFHLEdBR0ksT0FDQUwsRUFBQUssR0FBQUYsRUFBQUMsR0FDRkgsRUFBT0MsR0FBQUMsRUFBQUMsSUFPVCxRQUFBRyxLQUtFLEdBQU1DLEdBQVdWLEVBQUUsY0FHakJXLEVBQ0FYLEVBQUEsYUFBQVksSUFBQSxTQUFBQyxFQUFBQyxHQUlRLEdBQUFDLEdBQUFmLEVBQUFjLEdBQUFDLFdBQ0lBLEVBQWFELEVBQU9DLEVBQTFCWCxJQUFBVyxFQUFBUixNQUNNUyxFQUFnQ0QsRUFBYkEsRUFBU1gsRUFBSVcsRUFBU1IsQ0FDekNVLE9BQUFBLEdBQWNELElBSTVCLE9BQWFoQixHQUFFLG1CQUFtQmtCLElBQUlQLEdBZ0kxQyxRQUFBUSxLQUVBbkIsRUFBQSxRQUUwQkEsR0FBQSxrQkFBaUJvQixTQUFTLFNBSTdCQyxFQUFBQSxpQkFBY0MsU0FBUyxRQUkxQ0QsUUFBT0UsR0FBV0MsRUFBbEJBLEVBQUFGLEdBS0ZELEVBQVNJLElBQUFBLE1BQVRELEdBQ0lILEVBQUFFLElBQUEsT0FBQUQsR0F4TUosR0FBTWpCLEdBQVEsR0FEZEMsRUFBQSxFQUNNRCxFQUFOTCxFQUFBLGFBQ01NLEVBQU5OLEVBQUEsYUF5REFBLEdBQUUsWUFBWTBCLE1BQU0sV0FHbEIsSUFBTUMsR0FBQUEsR0FBQUEsRUFBQUEsRUFESixHQUNGQyxJQUlNQyxFQUFBQyxPQUFBOUIsRUFBQSxVQUFBb0IsU0FBQSxVQVlOLEtBQUssR0FBSVEsR0FBQUEsRUFBQUEsRUFEVCxHQUNlRyxJQUliQyxFQUFRRixPQUFPOUIsRUFBRSxVQUFVb0IsU0FBUyxTQU10Q0QsS0FHQW5CLEVBQUUsbUJBQW1CaUMsS0FBSyxTQUFTcEIsRUFBTUMsR0FLdkMsR0FBTVosR0FBS1csS0FBQUEsTUFBREEsRUFBdUJWLEdBQTNCRCxFQUFLVyxFQUFRLEVBQUssR0FBSyxFQUFJVixFQUFFLEdBRzdCK0IsRUFBZ0JqQyxFQUFVQyxFQUFFQyxFQVJwQ2dDLEdBQUFuQyxFQUFBYyxHQUFBb0IsRUFBQTlCLElBQUE4QixFQUFBM0IsUUFnQkFQLEVBQUUsa0JBQWtCaUMsS0FBSyxTQUFTcEIsRUFBTUMsR0FLdEMsR0FBTVosR0FBS1csS0FBQUEsTUFBREEsRUFBbUIsR0FBRVYsRUFBekJELEVBQUtXLEVBQVEsRUFBSyxHQUFLLEVBQUVWLEVBQUUsR0FHM0IrQixFQUFnQmpDLEVBQVVDLEVBQUVDLEVBUnBDZ0MsR0FBQW5DLEVBQUFjLEdBQUFvQixFQUFBOUIsSUFBQThCLEVBQUEzQixRQWtCQUUsSUFBb0JXLFNBQVMsV0FJdkJwQixFQUFBLGFBQUFvQyxNQUFBLFdBQ1VwQyxFQUFFcUMsUUFRbEJyQyxFQUFFLGNBQWNvQyxNQUFNLFdBR3BCLEdBQU1FLEdBQVF0QyxFQUFFcUMsS0FHaEIsSUFBSUMsRUFBTUMsU0FBUyxXQUFZLENBRzdCLEdBQU1DLEdBQWlCeEMsRUFBRSxxQkFJZixJQUFBLElBQUF3QyxFQUFBQyxPQUFBLENBR1IsR0FBTXZDLEdBQUlXLEVBQVY2QixVQUFBRCxPQUNNdEMsRUFBSXdDLEVBQUEsRUFDSkMsRUFBQUEsS0FBUzNDLE1BQUFBLEVBQWYsR0FBTTJDLEVBQVMzQyxFQUFVQyxFQUFFQyxFQUkzQmdDLEdBQVlLLEVBQWVJLEVBQU94QyxJQUFJd0MsRUFBT3JDLE1BTzdDaUMsRUFBZUssWUFBWSxZQUkzQnBDLEVBQUFBLGNBQUFBLFlBQUEsV0FDREEsSUFBQVcsU0FBQSIsImZpbGUiOiJhcHAuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvL2xvYWRpbmcgSlNcbiQoKCk9PntcblxuICAvL0dMT0JBTCBWQVJJQUJMRVNcbiAgY29uc3Qgd2lkdGggPSA0NjtcbiAgY29uc3QgYm9yZGVyID0gMjtcbiAgY29uc3QgJGJvYXJkID0gJCgnZGl2I2JvYXJkJyk7XG4gIGNvbnN0ICRwaWVjZXMgPSAkKCdkaXYjcGllY2VzJyk7XG5cbiAgLy91dGlsaXR5IGZ1bmN0aW9uIGZvciB0cmFuc2xhdGluZyBhbiB4LHkgY29vcmRpbmF0ZVxuICAvL3RvIGEgcGl4ZWwgcG9zaXRpb25cbiAgLy90aGUgY29udmVudGlvbiBpcyB0aGF0IHRoZSBzcXVhcmUgaW4gdGhlIHVwcGVyIGxlZnRcbiAgLy9jb3JuZXIgaXMgYXQgcG9zaXRpb24gMCwwXG4gIC8vdGhlIHNxdWFyZSBpbiB0aGUgdXBwZXIgcmlnaHQsIGF0IDcsMCBhbmQgdGhlIGxvd2VyXG4gIC8vcmlnaHQgYXQgNyw3XG4gIGZ1bmN0aW9uIGdldFBpeGVscyh4LHkpIHtcbiAgICAgIC8vb2suLi4gc28gdGFrZXMgYW4geCx5IHBvc2l0aW9uLCByZXR1cm5zXG4gICAgICAvL3BpeGVscyBmcm9tIHRoZSBsZWZ0LCByaWdodFxuXG4gICAgcmV0dXJuIHtcbiAgICAgICd0b3AnOiAoeSAqICh3aWR0aCtib3JkZXIpKSsncHgnLFxuICAgICAgJ2xlZnQnOiAoeCAqICh3aWR0aCtib3JkZXIpKSsncHgnXG4gICAgfTtcbiAgfVxuXG4gIC8vdXRpbGl0eSBmdW5jdGlvbiBmb3IgdHVybmluZyBhIHBpeGVsIHBvc2l0aW9uXG4gIC8vaW50byB0aGUgeCx5IGNvb3JkaW5hdGUgb2YgYSBzcXVhcmUgb24gdGhlIGJvYXJkXG4gIC8vaXQgZm9sbG93cyB0aGUgc2FtZSBjb29yZGluYXRlIGNvbnZlbnRpb24gYXMgZ2V0UGl4ZWxzXG4gIGZ1bmN0aW9uIGdldENvb3Jkcyh0b3AsbGVmdCkge1xuICAgICAgLy9yZXR1cm5zIGFuIHggYW5kIGEgeVxuICAgICAgLy9naXZlbiBhIHRvcCBhbmQgbGVmdCBwaXhlbHNcbiAgICByZXR1cm4ge1xuICAgICAgJ3gnOiBsZWZ0IC8gKHdpZHRoICsgYm9yZGVyKSxcbiAgICAgICd5JzogdG9wIC8gKHdpZHRoICsgYm9yZGVyKVxuICAgIH07XG4gIH1cblxuICAvL3V0aWxpdHkgZnVuY3Rpb24gZm9yIHJldHVybmluZ1xuICAvL3RoZSBzZXQgb2YgdW5vY2N1cGllZCBkYXJrIHNxdWFyZXNcbiAgLy8ocG9zc2libGUgcGxhY2VzIHRvIG1vdmUgYSBjaGVja2VyIHBpZWNlKVxuICBmdW5jdGlvbiBnZXRNb3ZhYmxlU3F1YXJlcygpIHtcblxuICAgICAgLy9zZWxlY3QgYWxsIG9mIHRoZSBzcXVhcmVzXG4gICAgY29uc3QgJHNxdWFyZXMgPSAkKCdkaXYuc3F1YXJlJyk7XG5cbiAgICAgIC8vc2VsZWN0IHRoZSBvY2N1cGllZCBvbmVzIHVzaW5nIHRoZSBqUXVlcnkgbWFwKCkgbWV0aG9kXG4gICAgICAvL21hcCBjcmVhdGVzIGEgbmV3IG9iamVjdCBmcm9tIGFuIGV4aXN0aW5nIG9uZVxuICAgICAgLy91c2luZyBhIHRyYW5zbGF0aW9uIGZ1bmN0aW9uXG4gICAgY29uc3QgJHRha2VuU3F1YXJlcyA9XG4gICAgICAgICAgJCgnZGl2LnBpZWNlJykubWFwKGZ1bmN0aW9uKGluZGV4LHBpZWNlKSB7XG5cbiAgICAgICAgICAgICAgLy90aGlzIGZ1bmN0aW9uIHRyYW5zbGF0ZXMgYSBwaWVjZVxuICAgICAgICAgICAgY29uc3QgcG9zaXRpb24gPSAkKHBpZWNlKS5wb3NpdGlvbigpO1xuICAgICAgICAgICAgY29uc3QgY29vcmRzID0gZ2V0Q29vcmRzKHBvc2l0aW9uLnRvcCxwb3NpdGlvbi5sZWZ0KTtcbiAgICAgICAgICAgIGNvbnN0IHNxdWFyZUluZGV4ID0gY29vcmRzLnkgKiA4ICsgY29vcmRzLng7XG4gICAgICAgICAgICByZXR1cm4gJHNxdWFyZXNbc3F1YXJlSW5kZXhdO1xuICAgICAgICAgIH0pO1xuXG4gICAgY29uc3QgJG91dCA9ICQoJ2Rpdi5zcXVhcmUuZGFyaycpLm5vdCgkdGFrZW5TcXVhcmVzKTtcbiAgICByZXR1cm4gJG91dDtcbiAgfVxuXG4gICQoJ2RvY3VtZW50JykucmVhZHkoZnVuY3Rpb24oKSB7XG5cbiAgICAgIC8vQ3JlYXRpbmcgdGhlIDY0IHNxdWFyZXMgYW5kIGFkZGluZyB0aGVtIHRvIHRoZSBET01cbiAgICBjb25zdCBzcXVhcmVDb3VudCA9IDgqODtcbiAgICBmb3IgKGxldCBpID0gMDtpPHNxdWFyZUNvdW50O2krKykge1xuXG4gICAgICAgICAgLy90aGlzIGxpbmUgY3JlYXRlcyBhIG5ldyBkaXYgd2l0aCB0aGUgY2xhc3MgJ3NxdWFyZSdcbiAgICAgICAgICAvL2FuZCBhcHBlbmRzIGl0IHRvIHRoZSBkaXYgd2l0aCBpZCAnYm9hcmQnXG4gICAgICAkYm9hcmQuYXBwZW5kKCQoJzxkaXYvPicpLmFkZENsYXNzKCdzcXVhcmUnKSk7XG4gICAgfVxuXG4gICAgICAvL1lPVVIgQ09ERVxuICAgICAgLy9zZXQgdXAgdGhlIGJvYXJkIHdpdGggdGhlIGNvcnJlY3QgY2xhc3Nlc1xuICAgICAgLy9mb3IgdGhlIGxpZ2h0IGFuZCBkYXJrIHNxdWFyZXNcbiAgICBzZXRVcEJvYXJkKCk7XG5cblxuICAgICAgLy9jcmVhdGluZyB0aGUgMjQgcGllY2VzIGFuZCBhZGRpbmcgdGhlbSB0byB0aGUgRE9NXG4gICAgY29uc3QgcGllY2VDb3VudCA9IDI0O1xuICAgIGZvciAobGV0IGk9MDtpPHBpZWNlQ291bnQ7aSsrKSB7XG5cbiAgICAgICAgICAvL3RoaXMgbGluZSBhcHBlbmRzIGFuIGVtcHR5IGRpdlxuICAgICAgICAgIC8vd2l0aCB0aGUgY2xhc3MgJ3BpZWNlJyB0byB0aGUgZGl2IHdpdGggaWQgJ3BpZWNlcydcbiAgICAgICRwaWVjZXMuYXBwZW5kKCQoJzxkaXYvPicpLmFkZENsYXNzKCdwaWVjZScpKTtcblxuICAgIH1cblxuICAgICAgLy9ZT1VSIENPREVcbiAgICAgIC8vc2V0cyB1cCB0aGUgY2xhc3NlcyBmb3IgdGhlIGRpZmZlcmVudCB0eXBlcyBvZiBwaWVjZVxuICAgIHNldFVwUGllY2VzKCk7XG5cbiAgICAgIC8vdGhpcyBsb29wIG1vdmVzIGFsbCB0aGUgbGlnaHQgcGllY2VzIHRvIHRoZWlyIGluaXRpYWwgcG9zaXRpb25zXG4gICAgJCgnZGl2LnBpZWNlLmxpZ2h0JykuZWFjaChmdW5jdGlvbihpbmRleCxwaWVjZSkge1xuXG4gICAgICAgICAgLy90dXJuaW5nIHRoZSBpbmRleCAoZnJvbSAwIC0gMTEpXG4gICAgICAgICAgLy9pbnRvIGEgeCx5IHNxdWFyZSBjb29yZGluYXRlIHVzaW5nIG1hdGhcbiAgICAgIGNvbnN0IHkgPSBNYXRoLmZsb29yKGluZGV4IC8gNCk7XG4gICAgICBjb25zdCB4ID0gKGluZGV4ICUgNCkgKiAyICsgKDEgLSB5JTIpO1xuXG4gICAgICAgICAgLy90dXJuaW5nIHRoZSB4LHkgY29vcmRpbmdhdGUgaW50byBhIHBpeGVsIHBvc2l0aW9uXG4gICAgICBjb25zdCBwaXhlbFBvc2l0aW9uID0gZ2V0UGl4ZWxzKHgseSk7XG5cbiAgICAgICAgICAvL1lPVVIgQ09ERVxuICAgICAgICAgIC8vYWN0dWFsbHkgbW92aW5nIHRoZSBwaWVjZSB0byBpdHMgaW5pdGlhbCBwb3NpdGlvblxuICAgICAgbW92ZVBpZWNlVG8oJChwaWVjZSkscGl4ZWxQb3NpdGlvbi50b3AscGl4ZWxQb3NpdGlvbi5sZWZ0KTtcbiAgICB9KTtcblxuICAgICAgLy90aGlzIGxvb3AgbW92ZXMgYWxsIHRoZSBkYXJrIHBpZWNlcyB0byB0aGVpciBpbml0aWFsIHBvc2l0aW9uc1xuICAgICQoJ2Rpdi5waWVjZS5kYXJrJykuZWFjaChmdW5jdGlvbihpbmRleCxwaWVjZSkge1xuXG4gICAgICAgICAgLy90dXJuaW5nIHRoZSBpbmRleCAoZnJvbSAwIC0gMTEpXG4gICAgICAgICAgLy9pbnRvIGEgeCx5IHNxdWFyZSBjb29yZGluYXRlIHVzaW5nIG1hdGhcbiAgICAgIGNvbnN0IHkgPSBNYXRoLmZsb29yKGluZGV4LzQpICsgNTtcbiAgICAgIGNvbnN0IHggPSAoaW5kZXggJSA0KSAqIDIgKyAoMS15JTIpO1xuXG4gICAgICAgICAgLy90dXJuaW5nIHRoZSB4LHkgY29vcmRpbmF0ZSBpbnRvIGEgcGl4ZWwgcG9zaXRpb25cbiAgICAgIGNvbnN0IHBpeGVsUG9zaXRpb24gPSBnZXRQaXhlbHMoeCx5KTtcblxuICAgICAgICAgIC8vWU9VUiBDT0RFXG4gICAgICAgICAgLy9tb3ZpbmcgdGhlIHBpZWNlIHRvIGl0cyBpbml0aWFsIHBvc2l0aW9uXG4gICAgICBtb3ZlUGllY2VUbygkKHBpZWNlKSxwaXhlbFBvc2l0aW9uLnRvcCxwaXhlbFBvc2l0aW9uLmxlZnQpO1xuICAgIH0pO1xuXG4gICAgICAvL3NldCB1cCBpbml0aWFsIHNxdWFyZXNcbiAgICAgIC8vdGhlIGNsYXNzICdtb3ZhYmxlJyByZXByZXNlbnRzIGEgc3F1YXJlXG4gICAgICAvL3RoYXQgaXMgdW5vY2N1cGllZFxuICAgIGdldE1vdmFibGVTcXVhcmVzKCkuYWRkQ2xhc3MoJ21vdmFibGUnKTtcblxuICAgICAgLy9hbmQgbm93IHRoZSBldmVudHNcbiAgICAkKCdkaXYucGllY2UnKS5jbGljayhmdW5jdGlvbigpIHtcbiAgICAgICAgICAvL3R1cm4gYHRoaXNgIGludG8gYSBqUXVlcnkgb2JqZWN0XG4gICAgICBjb25zdCAkdGhpcyA9ICQodGhpcyk7XG5cbiAgICAgICAgICAvL1lPVVIgQ09ERVxuICAgICAgICAgIC8vdG9nZ2xlaW5nIHRoZSAnc2VsZWN0ZWQnIGNsYXNzIG9mIHRoaXMgcGllY2VcbiAgICAgICAgICAvL2FuZCBwb3NzaWJsZSBkZXNlbGVjdGluZyBvdGhlciBwaWVjZXNcbiAgICAgIHRvZ2dsZVNlbGVjdCgkdGhpcyk7XG4gICAgfSk7XG5cbiAgICAkKCdkaXYuc3F1YXJlJykuY2xpY2soZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAvL3R1cm4gYHRoaXNgIGludG8gYSBqUXVlcnkgb2JqZWN0XG4gICAgICBjb25zdCAkdGhpcyA9ICQodGhpcyk7XG5cbiAgICAgICAgICAvL2lmICR0aGlzIGlzIGEgbGVnYWwgc3F1YXJlIHRvIG1vdmUgdG8uLi5cbiAgICAgIGlmICgkdGhpcy5oYXNDbGFzcygnbW92YWJsZScpKSB7XG5cbiAgICAgICAgICAgICAgLy9nZXQgdGhlIHBpZWNlIHdpdGggdGhlIGNsYXNzICdzZWxlY3RlZCdcbiAgICAgICAgY29uc3QgJHNlbGVjdGVkUGllY2UgPSAkKCdkaXYucGllY2Uuc2VsZWN0ZWQnKTtcblxuICAgICAgICAgICAgICAvL3dlIG9ubHkgbW92ZSBpZiB0aGVyZSBpcyBleGFjdGx5IG9uZSBzZWxlY3RlZCBwaWVjZVxuICAgICAgICBpZiAoJHNlbGVjdGVkUGllY2UubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICAgICAgICAvL2dldCB0aGUgaW5kZXggb2YgdGhlIHNxdWFyZVxuICAgICAgICAgICAgICAgICAgLy9hbmQgdHJhbnNsYXRlIGl0IHRvIHBpeGVsIHBvc2l0aW9uXG4gICAgICAgICAgY29uc3QgaW5kZXggPSAkdGhpcy5wcmV2QWxsKCkubGVuZ3RoO1xuICAgICAgICAgIGNvbnN0IHggPSBpbmRleCAlIDg7XG4gICAgICAgICAgY29uc3QgeSA9IE1hdGguZmxvb3IoaW5kZXggLyA4KTtcbiAgICAgICAgICBjb25zdCBwaXhlbHMgPSBnZXRQaXhlbHMoeCx5KTtcblxuICAgICAgICAgICAgICAgICAgLy9ZT1VSIENPREVcbiAgICAgICAgICAgICAgICAgIC8vYWN0dWFsbHkgZG8gdGhlIG1vdmluZ1xuICAgICAgICAgIG1vdmVQaWVjZVRvKCRzZWxlY3RlZFBpZWNlLHBpeGVscy50b3AscGl4ZWxzLmxlZnQpO1xuXG4gICAgICAgICAgICAgICAgICAvL1lPVVIgQ09ERVxuICAgICAgICAgICAgICAgICAgLy9pbmNyZW1lbnQgdGhlIG1vdmUgY291bnRlclxuICAgICAgICAgIGluY3JlbWVudE1vdmVDb3VudCgpO1xuXG4gICAgICAgICAgICAgICAgICAvL3VuLXNlbGVjdCB0aGUgcGllY2VcbiAgICAgICAgICAkc2VsZWN0ZWRQaWVjZS5yZW1vdmVDbGFzcygnc2VsZWN0ZWQnKTtcblxuICAgICAgICAgICAgICAgICAgLy9zZXQgdGhlIG5ldyBsZWdhbCBtb3Zlc1xuICAgICAgICAgICQoJ2Rpdi5zcXVhcmUnKS5yZW1vdmVDbGFzcygnbW92YWJsZScpO1xuICAgICAgICAgIGdldE1vdmFibGVTcXVhcmVzKCkuYWRkQ2xhc3MoJ21vdmFibGUnKTtcbiAgICAgICAgfVxuXG4gICAgICB9XG4gICAgfSk7XG5cbiAgfSk7XG5cbiAgLy8gRlVOQ1RJT05TXG4gIGZ1bmN0aW9uIHNldFVwUGllY2VzKCkge1xuICAgICAgLy9zZWxlY3QgYWxsIHRoZSBkaXZzIHdpdGggY2xhc3MgJ3BpZWNlJ1xuICAgICQoJ3BpZWNlJyk7XG4vL2FkZCB0aGUgJ2xpZ2h0JyBjbGFzcyB0byBoYWxmIG9mIHRoZW1cbiAgICBjb25zdCAgbGlnaHRQaWVjZXMgPSAkKCdkaXYucGllY2U6ZXZlbicpLmFkZENsYXNzKCdsaWdodCcpO1xuLy9qUXVlcnkncyBldmVuIGFuZCBvZGQgc2VsZWN0b3IgbWV0aG9kcyB0byBhc3NpZ24gdGhlIGNsYXNzZXMgLmxpZ2h0IGFuZCAuZGFyay5cbi8vYWRkIHRoZSAnZGFyaycgdG8gdGhlIG90aGVyIGhhbGZcbiAgICBjb25zdCAgZGFya1BpZWNlcyA9ICQoJ2Rpdi5waWVjZTpvZGQnKS5hZGRDbGFzcygnZGFyaycpOyBcblxuICB9XG5cbiAgZnVuY3Rpb24gbW92ZVBpZWNlVG8oJHBpZWNlLG5ld1RvcCxuZXdMZWZ0KSB7XG4gICAgICAvL3NldCB0aGUgY3NzICd0b3AnIGFuZCAnbGVmdCdcbiAgICAgIC8vYXR0cmlidXRlcyBvZiB0aGUgcGFzc2VkIHBpZWNlXG4gICAgICAvL3RvIHRoZSBhcmd1bWVudHMgbmV3VG9wIGFuZCBuZXdMZWZ0XG4gICAgJHBpZWNlLmNzcygndG9wJywgbmV3VG9wKTtcbiAgICAkcGllY2UuY3NzKCdsZWZ0JywgbmV3TGVmdCk7XG5cbiAgfVxuXG4gIGZ1bmN0aW9uIHNldFVwQm9hcmQoKSB7XG4gICAgICAvL2l0ZXJhdGUgdGhyb3VnaCBhbGwgb2YgdGhlIGRpdnNcbiAgICAgIC8vd2l0aCBjbGFzcyBgc3F1YXJlYFxuICAgICAgLy9maWd1cmUgb3V0IHdoZXRoZXIgZWFjaCBvbmUgc2hvdWxkIGJlXG4gICAgICAvL2xpZ2h0IG9yIGRhcmssIGFuZCBhc3NpZ24gdGhlIHByb3BlciBjbGFzc1xuXG4gICAgICAvL2hlcmVzIGEgaGVscGVyIGZ1bmN0aW9uIHRoYXQgdGFrZXMgYSBudW1iZXIgYmV0d2VlblxuICAgICAgLy8wIGFuZCA2MyAoaW5jbHVzaXZlKSBhbmQgcmV0dXJucyAxIGlmIHRoZSBzcXVhcmUgc2hvdWxkIGJlXG4gICAgICAvL2RhcmssIGFuZCAwIGlmIHRoZSBzcXVhcmUgc2hvdWxkIGJlIGxpZ2h0XG4gICAgZnVuY3Rpb24gbGlnaHRPckRhcmsoaW5kZXgpIHtcbiAgICAgIGNvbnN0IHggPSBpbmRleCAlIDg7XG4gICAgICBjb25zdCB5ID0gTWF0aC5mbG9vcihpbmRleCAvIDgpO1xuICAgICAgY29uc3Qgb2RkWCA9IHggJSAyO1xuICAgICAgY29uc3Qgb2RkWSA9IHkgJSAyO1xuICAgICAgcmV0dXJuIChvZGRYIF4gb2RkWSk7XG4gICAgfVxuXG5cblxuICB9XG5cbiAgZnVuY3Rpb24gdG9nZ2xlU2VsZWN0KCRwaWVjZSkge1xuICAgICAgLy9pZiAkcGllY2UgaGFzIHRoZSBjbGFzcyAnc2VsZWN0ZWQnLFxuICAgICAgLy9yZW1vdmUgaXRcblxuICAgICAgLy9pZiAkcGllY2UgZG9lcyBub3QgaGF2ZSB0aGUgY2xhc3MgJ3NlbGVjdGVkJ1xuICAgICAgLy9tYWtlIHN1cmUgbm8gb3RoZXIgZGl2cyB3aXRoIHRoZSBjbGFzcyAncGllY2UnXG4gICAgICAvL2hhdmUgdGhhdCBjbGFzcywgdGhlbiBzZXQgJHBpZWNlIHRvIGhhdmUgdGhlIGNsYXNzXG5cbiAgfVxuXG4gIGZ1bmN0aW9uIGluY3JlbWVudE1vdmVDb3VudCgpIHtcbiAgICAgIC8vZ2V0cyB0aGUgaHRtbCBvZiB0aGUgc3BhbiB3aXRoIGlkXG4gICAgICAvL21vdmVDb3VudFxuICAgICAgLy90dXJucyBpdCBpbnRvIGEgbnVtYmVyXG4gICAgICAvL2luY3JlbWVudHMgaXQgYnkgb25lXG4gICAgICAvL3NldHMgdGhlIGh0bWwgb2YgdGhlIHNwYW4gd2l0aCBpZCBtb3ZlQ291bnRcbiAgICAgIC8vdG8gdGhlIG5ldyBtb3ZlIGNvdW50XG4gIH1cblxuXG59KTsvL2VuZCBvZiBKUyBsb2FkXG4iXX0=
